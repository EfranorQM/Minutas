(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"3f54":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"q-pa-md q-gutter-sm bg-grey-2 background-height relative-position"},[e.loadingState?s("div",[s("q-spinner-tail",{staticClass:"absolute-center text-default",attrs:{size:"5em"}})],1):s("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},[s("q-expansion-item",{attrs:{"expand-separator":"",group:"tables-adds",icon:"account_circle",label:"Datos personales",caption:e.personData.name||null},model:{value:e.formPerson,callback:function(t){e.formPerson=t},expression:"formPerson"}},[s("q-card",[s("q-card-section",[s("q-form",{on:{submit:e.onSubmitPerson}},[s("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:e.onFilePicked}}),s("div",{staticClass:"row q-mb-xs"},[s("span",{staticClass:"text-bold"},[e._v("Foto de perfil")]),s("span",{staticClass:"q-mx-xs"},[e._v("(Opcional)")]),s("span",{staticClass:"text-bold"},[e._v(":")])]),s("div",{staticClass:"text-center q-my-md"},[e.personData.photo?s("q-img",{staticClass:"image-profile",attrs:{src:e.personData.photo}},[s("div",{staticClass:"absolute-bottom text-subtitle1 text-center"},[s("q-btn",{staticClass:"full-width",attrs:{flat:"",color:"white",icon:"camera_alt"},on:{click:e.onPickFile}})],1)]):s("q-img",{staticClass:"image-profile",attrs:{src:a("874c")}},[s("div",{staticClass:"absolute-bottom text-subtitle1 text-center"},[s("q-btn",{staticClass:"full-width",attrs:{flat:"",color:"white",icon:"camera_alt"},on:{click:e.onPickFile}})],1)])],1),s("div",{staticClass:"row q-mb-xs text-bold"},[e._v("\n              Información principal:\n            ")]),s("q-toggle",{staticClass:"q-mb-sm",attrs:{color:"primary",label:"Vivo"},model:{value:e.personData.live,callback:function(t){e.$set(e.personData,"live",t)},expression:"personData.live"}}),s("div",{staticClass:"row"},[s("q-input",{staticClass:"ControlForm col-4 q-mr-md",attrs:{filled:"",label:"Nombre","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingresa el nombre"},function(e){return e&&e.length<=80||"Longitud maxima de 80 carácteres"}]},model:{value:e.personData.name,callback:function(t){e.$set(e.personData,"name",t)},expression:"personData.name"}}),s("q-input",{staticClass:"ControlForm col q-mr-md",attrs:{filled:"",label:"Tel. Fijo",type:"number",min:0,"stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingresa un telefono"},function(e){return e&&e>0&&e.length<=10||"Numero invalido"}]},model:{value:e.personData.phone,callback:function(t){e.$set(e.personData,"phone",t)},expression:"personData.phone"}}),s("q-input",{staticClass:"ControlForm col-3 q-mr-md",attrs:{filled:"",label:"Documento",type:"number",min:0,"stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingresa el documento"},function(e){return e&&e>0&&e.length<=10||"Documento invalido"}]},model:{value:e.personData.document,callback:function(t){e.$set(e.personData,"document",t)},expression:"personData.document"}}),s("q-input",{staticClass:"ControlForm col-2",attrs:{filled:"",label:"Nacimiento","stack-label":"",readonly:"",rules:[function(e){return e&&e.length>0||"Por favor ingresa una fecha"}]},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[s("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{attrs:{mask:"DD/MM/YYYY",options:e.minimumYears},on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e.personData.birthDate,callback:function(t){e.$set(e.personData,"birthDate",t)},expression:"personData.birthDate"}})],1)],1)]},proxy:!0}]),model:{value:e.personData.birthDate,callback:function(t){e.$set(e.personData,"birthDate",t)},expression:"personData.birthDate"}})],1),s("div",{staticClass:"row"},[s("q-input",{staticClass:"ControlForm col-3 q-mr-md",attrs:{filled:"",label:"Correo","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingresa un correo electronico"}]},model:{value:e.personData.email,callback:function(t){e.$set(e.personData,"email",t)},expression:"personData.email"}}),s("q-select",{staticClass:"ControlForm col-2 q-mr-md",attrs:{filled:"",options:["Soltero(a)","Casado(a)","Divorciado(a)"],label:"Estado civil","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor selecciona un estado"}]},model:{value:e.personData.civilStatus,callback:function(t){e.$set(e.personData,"civilStatus",t)},expression:"personData.civilStatus"}}),s("q-input",{staticClass:"ControlForm col-2 q-mr-md",attrs:{filled:"",label:"Peso",suffix:"kgs",hint:"Ejemplo: 75 kgs","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingresa tu peso"},function(e){return e>40&&e<=120||"Peso invalido"}]},model:{value:e.personData.weight,callback:function(t){e.$set(e.personData,"weight",t)},expression:"personData.weight"}}),s("q-input",{staticClass:"ControlForm col q-mr-md",attrs:{filled:"",label:"Estatura",suffix:"mts",hint:"Ejemplo: 1.80 mts","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingresa tu estatura"},function(e){return e>1&&e<=2.5||"Estatura invalida"}]},model:{value:e.personData.height,callback:function(t){e.$set(e.personData,"height",t)},expression:"personData.height"}}),s("q-select",{staticClass:"ControlForm col-2",attrs:{filled:"",options:["Masculino","Femenino"],label:"Genero","stack-label":"","lazy-rules":"",rules:[]},model:{value:e.personData.sex,callback:function(t){e.$set(e.personData,"sex",t)},expression:"personData.sex"}})],1),s("div",{staticClass:"row"},[s("q-input",{staticClass:"ControlForm col q-mr-md",attrs:{filled:"",label:"Celular",type:"number",min:0,"stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingresa un celular"},function(e){return e&&10===e.length||"Numero invalido"}]},model:{value:e.personData.mobile,callback:function(t){e.$set(e.personData,"mobile",t)},expression:"personData.mobile"}}),s("SelectionInput",{staticClass:"col-5 q-mr-md",attrs:{searchParent:e.personData.birthCity,optionsMenu:e.cities,optionValue:"id",optionLabel:"name",filled:!0,label:"Ciudad de Nacimiento",hint:e.personData.birthCity?"":"Escribe por lo menos dos letras, ten en cuenta las tildes.",rules:[function(){return e.personData.birthCity||"Por favor selecciona una ciudad"}]},model:{value:e.personData.birthCity,callback:function(t){e.$set(e.personData,"birthCity",t)},expression:"personData.birthCity"}}),s("q-select",{staticClass:"ControlForm col q-mr-md",attrs:{filled:"",label:"Tipo de sangre",options:e.bloodTypes,"option-value":"id","option-label":"name","stack-label":"","lazy-rules":"",rules:[]},model:{value:e.personData.bloodType,callback:function(t){e.$set(e.personData,"bloodType",t)},expression:"personData.bloodType"}}),s("q-select",{staticClass:"ControlForm col",attrs:{filled:"",label:"Profesión",options:e.professions,"option-value":"id","option-label":"name","stack-label":"","lazy-rules":"",rules:[]},model:{value:e.personData.profession,callback:function(t){e.$set(e.personData,"profession",t)},expression:"personData.profession"}})],1),s("div",{staticClass:"row q-mb-xs text-bold"},[e._v("\n              Información adicional:\n            ")]),s("div",{staticClass:"row"},[s("q-input",{staticClass:"ControlForm col q-mr-md",attrs:{filled:"",label:"Dirección","stack-label":"","lazy-rules":"",rules:[function(e){return!e||(e.length<=100||"Longitud maxima de 100 carácteres")}]},model:{value:e.personData.address,callback:function(t){e.$set(e.personData,"address",t)},expression:"personData.address"}}),s("q-input",{staticClass:"ControlForm col",attrs:{filled:"",label:"Barrio","stack-label":"","lazy-rules":"",rules:[function(e){return!e||(e.length<=50||"Longitud maxima de 50 carácteres")}]},model:{value:e.personData.neighborhood,callback:function(t){e.$set(e.personData,"neighborhood",t)},expression:"personData.neighborhood"}})],1),s("q-btn",{staticClass:"full-width",attrs:{label:e.action.created?"GUARDAR":"ACTUALIZAR DATOS",loading:e.loading,type:"submit",color:"positive"}})],1)],1)],1)],1),s("q-expansion-item",{attrs:{group:"tables-adds","expand-separator":"",icon:"work",label:"Datos del empleado",caption:e.employeeData.userType.name||null},model:{value:e.formEmployee,callback:function(t){e.formEmployee=t},expression:"formEmployee"}},[s("q-card",[s("q-card-section",[s("q-form",{on:{submit:e.onSubmitEmployee}},[s("div",{staticClass:"row q-mb-xs text-bold"},[e._v("\n              Información principal:\n            ")]),s("q-toggle",{staticClass:"q-mb-sm",attrs:{color:"green",label:"Activo"},model:{value:e.employeeData.active,callback:function(t){e.$set(e.employeeData,"active",t)},expression:"employeeData.active"}}),s("div",{staticClass:"row q-mb-xs"},[s("q-select",{staticClass:"ControlForm col-3 q-mr-md",attrs:{filled:"",label:"Persona",options:e.persons,"option-value":"id","option-label":"name",disable:"",readonly:"","stack-label":"","lazy-rules":"",rules:[]},model:{value:e.employeeData.person,callback:function(t){e.$set(e.employeeData,"person",t)},expression:"employeeData.person"}}),s("q-input",{staticClass:"ControlForm col q-mr-md",attrs:{filled:"",type:"number",min:"0",label:"Código","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingresa el código"},function(e){return e&&e>=0||"Numero invalido"}]},model:{value:e.employeeData.code,callback:function(t){e.$set(e.employeeData,"code",t)},expression:"employeeData.code"}}),s("q-input",{staticClass:"ControlForm col-3 q-mr-md",attrs:{filled:"",label:"Contraseña","stack-label":"",type:e.isPwd?"password":"text","lazy-rules":"",rules:e.action.created?[function(e){return e&&e.length>0||"Por favor ingresa la contraseña"}]:[],hint:e.action.created?"":"Esta contraseña solo es revelada al propietario"},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.employeeData.password,callback:function(t){e.$set(e.employeeData,"password",t)},expression:"employeeData.password"}}),s("q-select",{staticClass:"ControlForm col-3",attrs:{filled:"",label:"Tipo de usuario",options:e.userTypes,disable:"",readonly:"","option-value":"id","option-label":"name","stack-label":"","lazy-rules":"",rules:[]},model:{value:e.employeeData.userType,callback:function(t){e.$set(e.employeeData,"userType",t)},expression:"employeeData.userType"}})],1),s("div",{staticClass:"row q-mb-xs"},[s("SelectionInput",{staticClass:"col-5 q-mr-md",attrs:{searchParent:e.employeeData.city,optionsMenu:e.cities,optionValue:"id",optionLabel:"name",filled:!0,label:"Ciudad",hint:e.employeeData.city?"":"Escribe por lo menos dos letras, ten en cuenta las tildes.",rules:[function(){return e.employeeData.city||"Por favor selecciona una ciudad"}]},model:{value:e.employeeData.city,callback:function(t){e.$set(e.employeeData,"city",t)},expression:"employeeData.city"}}),s("q-input",{staticClass:"ControlForm col-2 q-mr-md",attrs:{filled:"",label:"Fecha Ingreso","stack-label":"",readonly:"",rules:[function(e){return e&&e.length>0||"Por favor ingresa una fecha"}]},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[s("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{attrs:{mask:"DD/MM/YYYY",options:e.maxDateIsToday},on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e.employeeData.dateIn,callback:function(t){e.$set(e.employeeData,"dateIn",t)},expression:"employeeData.dateIn"}})],1)],1)]},proxy:!0}]),model:{value:e.employeeData.dateIn,callback:function(t){e.$set(e.employeeData,"dateIn",t)},expression:"employeeData.dateIn"}}),s("q-select",{staticClass:"ControlForm col-2 q-mr-md",attrs:{filled:"",options:["Arrendada","Propia"],label:"Tipo de casa","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor selecciona un tipo"}]},model:{value:e.employeeData.houseType,callback:function(t){e.$set(e.employeeData,"houseType",t)},expression:"employeeData.houseType"}})],1),s("div",{staticClass:"row q-mb-xs"},[s("q-select",{staticClass:"ControlForm col",attrs:{filled:"","use-chips":"",multiple:"",options:e.languages,"option-value":"id","option-label":"name",label:"Idiomas","stack-label":"","lazy-rules":"",hint:"Selecciona por lo menos un idioma",rules:[function(e){return e&&e.length>0||"Por favor selecciona por lo menos un idioma"}]},model:{value:e.employeeData.languages,callback:function(t){e.$set(e.employeeData,"languages",t)},expression:"employeeData.languages"}})],1),s("div",{staticClass:"row q-mb-xs text-bold"},[e._v("\n              Información adicional:\n            ")]),s("div",{staticClass:"row q-mb-xs"},[s("q-toggle",{staticClass:"col-2 q-mr-md",attrs:{color:"primary",label:"Computador"},model:{value:e.employeeData.computer,callback:function(t){e.$set(e.employeeData,"computer",t)},expression:"employeeData.computer"}}),s("q-toggle",{staticClass:"col-2 q-mr-md",attrs:{color:"primary",label:"Libreta Militar"},model:{value:e.militaryCard,callback:function(t){e.militaryCard=t},expression:"militaryCard"}}),s("q-toggle",{staticClass:"col-3 q-mr-md",attrs:{color:"primary",label:"Licencia de conducción"},model:{value:e.license,callback:function(t){e.license=t},expression:"license"}})],1),s("div",{staticClass:"row q-mb-xs"},[s("q-input",{staticClass:"ControlForm col-3 q-mr-md",attrs:{filled:"",type:"number",min:0,label:"Código NPIB","stack-label":"","lazy-rules":"",rules:[function(e){return!e||(e>=0?e.length<=50||"Longitud maxima de 50 carácteres":"Numero incorrecto")}]},model:{value:e.employeeData.npib,callback:function(t){e.$set(e.employeeData,"npib",t)},expression:"employeeData.npib"}}),s("q-input",{staticClass:"ControlForm col-2 q-mr-md",attrs:{filled:"",type:"number",min:0,label:"Pers. a cargo","stack-label":"","lazy-rules":"",rules:[function(e){return!e||(e>=0||"Numero incorrecto")}]},model:{value:e.employeeData.dependents,callback:function(t){e.$set(e.employeeData,"dependents",t)},expression:"employeeData.dependents"}}),s("q-input",{staticClass:"ControlForm col-3 q-mr-md",attrs:{filled:"",label:"Seguro","stack-label":"","lazy-rules":"",rules:[function(e){return!e||(e.length<=50||"Longitud maxima de 50 carácteres")}]},model:{value:e.employeeData.sure,callback:function(t){e.$set(e.employeeData,"sure",t)},expression:"employeeData.sure"}}),s("q-input",{staticClass:"ControlForm col",attrs:{filled:"",label:"Radicación","stack-label":"","lazy-rules":"",rules:[function(e){return!e||(e.length<=50||"Longitud maxima de 50 carácteres")}]},model:{value:e.employeeData.filing,callback:function(t){e.$set(e.employeeData,"filing",t)},expression:"employeeData.filing"}})],1),s("div",{staticClass:"row q-mb-xs"},[s("q-input",{staticClass:"ControlForm col q-mr-md",attrs:{filled:"",label:"Pasaporte","stack-label":"","lazy-rules":"",rules:[function(e){return!e||(e.length<=50||"Longitud maxima de 50 carácteres")}]},model:{value:e.employeeData.passport,callback:function(t){e.$set(e.employeeData,"passport",t)},expression:"employeeData.passport"}}),s("q-input",{staticClass:"ControlForm col-3 q-mr-md",attrs:{filled:"",label:"Actividad","stack-label":"","lazy-rules":"",rules:[function(e){return!e||(e.length<=100||"Longitud maxima de 100 carácteres")}]},model:{value:e.employeeData.activity,callback:function(t){e.$set(e.employeeData,"activity",t)},expression:"employeeData.activity"}}),s("q-input",{staticClass:"ControlForm col",attrs:{filled:"",label:"Maquina","stack-label":"","lazy-rules":"",rules:[function(e){return!e||(e.length<=100||"Longitud maxima de 100 carácteres")}]},model:{value:e.employeeData.machine,callback:function(t){e.$set(e.employeeData,"machine",t)},expression:"employeeData.machine"}})],1),s("div",{staticClass:"row"},[s("q-input",{staticClass:"ControlForm col-4 q-mr-md",attrs:{filled:"",label:"Labor","stack-label":"","lazy-rules":"",rules:[function(e){return!e||(e.length<=100||"Longitud maxima de 100 carácteres")}]},model:{value:e.employeeData.work,callback:function(t){e.$set(e.employeeData,"work",t)},expression:"employeeData.work"}}),s("q-input",{staticClass:"ControlForm col",attrs:{filled:"",label:"Hobi","stack-label":"","lazy-rules":"",rules:[function(e){return!e||(e.length<=150||"Longitud maxima de 150 carácteres")}]},model:{value:e.employeeData.hobi,callback:function(t){e.$set(e.employeeData,"hobi",t)},expression:"employeeData.hobi"}})],1),e.militaryCard?s("div",{staticClass:"row q-mb-md text-bold"},[e._v("\n              Libreta militar:\n            ")]):e._e(),e.militaryCard?s("div",{staticClass:"row q-mb-xs"},[s("q-select",{staticClass:"ControlForm col-3 q-mr-md",attrs:{filled:"",options:["Primera","Segunda"],label:"Clase","stack-label":"","lazy-rules":"",rules:[function(t){return e.militaryCard&&t&&t.length>0||"Por favor selecciona una clase"}]},model:{value:e.employeeData.militaryCard.class,callback:function(t){e.$set(e.employeeData.militaryCard,"class",t)},expression:"employeeData.militaryCard.class"}}),s("q-input",{staticClass:"ControlForm col-3 q-mr-md",attrs:{filled:"",label:"Distrito","stack-label":"","lazy-rules":"",rules:[function(t){return t&&e.militaryCard||"Por favor ingrese un distrito"},function(t){return t&&e.militaryCard&&t.length<=80||"Longitud maxima de 80 carácteres"}]},model:{value:e.employeeData.militaryCard.district,callback:function(t){e.$set(e.employeeData.militaryCard,"district",t)},expression:"employeeData.militaryCard.district"}})],1):e._e(),e.license?s("div",{staticClass:"row q-mb-md text-bold"},[e._v("\n              Licencia de conducción:\n            ")]):e._e(),e.license?s("div",{staticClass:"row q-mb-xs"},[s("q-input",{staticClass:"ControlForm col-3 q-mr-md",attrs:{filled:"",label:"Fecha de expedición",readonly:"","stack-label":"",rules:[function(e){return e&&e.length>0||"Por favor ingresa una fecha"}]},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[s("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{attrs:{mask:"DD/MM/YYYY",options:e.maxDateIsToday},on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e.employeeData.license.expeditionDate,callback:function(t){e.$set(e.employeeData.license,"expeditionDate",t)},expression:"employeeData.license.expeditionDate"}})],1)],1)]},proxy:!0}],null,!1,1061749900),model:{value:e.employeeData.license.expeditionDate,callback:function(t){e.$set(e.employeeData.license,"expeditionDate",t)},expression:"employeeData.license.expeditionDate"}}),s("q-input",{staticClass:"ControlForm col-3 q-mr-md",attrs:{filled:"",label:"Fecha de vigencia",readonly:"","stack-label":"",rules:[function(e){return e&&e.length>0||"Por favor ingresa una fecha"}]},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[s("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{attrs:{mask:"DD/MM/YYYY",options:e.minDateIsToday},on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e.employeeData.license.effectiveDate,callback:function(t){e.$set(e.employeeData.license,"effectiveDate",t)},expression:"employeeData.license.effectiveDate"}})],1)],1)]},proxy:!0}],null,!1,3838100550),model:{value:e.employeeData.license.effectiveDate,callback:function(t){e.$set(e.employeeData.license,"effectiveDate",t)},expression:"employeeData.license.effectiveDate"}}),s("q-select",{staticClass:"ControlForm col-2 q-mr-md",attrs:{filled:"",label:"Categoria",options:e.licenseCategories,"option-value":"id","option-label":"name","stack-label":"","lazy-rules":"",rules:[]},model:{value:e.employeeData.license.licenseCategory,callback:function(t){e.$set(e.employeeData.license,"licenseCategory",t)},expression:"employeeData.license.licenseCategory"}})],1):e._e(),s("div",[e.action.created?s("div",{staticClass:"q-field__bottom q-mb-sm"},[s("strong",[e._v("IMPORTANTE:")]),e._v(" Para tener acceso a las demas secciones(cursos\n                bomberiles, educación, etc.) es necesario crear la hoja de vida y luego editarla.\n              ")]):e._e(),s("q-btn",{staticClass:"full-width",attrs:{label:e.action.created?"GUARDAR":"ACTUALIZAR DATOS",loading:e.loading,type:"submit",color:"positive"}})],1)],1)],1)],1)],1),e.action.created?e._e():s("div",[s("q-expansion-item",{attrs:{group:"tables-adds","expand-separator":"",icon:"fireplace",label:"Curso Bomberil"},model:{value:e.sections.courses,callback:function(t){e.$set(e.sections,"courses",t)},expression:"sections.courses"}},[s("q-card",[s("q-card-section",[s("Courses",{attrs:{loading:e.loadingStateCourse,idTarget:e.action.id}})],1)],1)],1),s("q-expansion-item",{attrs:{group:"tables-adds","expand-separator":"",icon:"school",label:"Educación"},model:{value:e.sections.education,callback:function(t){e.$set(e.sections,"education",t)},expression:"sections.education"}},[s("q-card",[s("q-card-section",[s("Educations",{attrs:{loading:e.loadingStateEducation,idTarget:e.action.id,cities:e.cities}})],1)],1)],1),s("q-expansion-item",{attrs:{group:"tables-adds","expand-separator":"",icon:"assessment",label:"Experiencia"},model:{value:e.sections.experiences,callback:function(t){e.$set(e.sections,"experiences",t)},expression:"sections.experiences"}},[s("q-card",[s("q-card-section",[s("Experiences",{attrs:{loading:e.loadingStateExperience,idTarget:e.action.id}})],1)],1)],1),s("q-expansion-item",{attrs:{group:"tables-adds","expand-separator":"",icon:"info",label:"Información Bomberil"},model:{value:e.sections.information,callback:function(t){e.$set(e.sections,"information",t)},expression:"sections.information"}},[s("q-card",[s("q-card-section",[s("Informations",{attrs:{loading:e.loadingStateInformation,idTarget:e.action.id,ranks:e.ranks}})],1)],1)],1),s("q-expansion-item",{attrs:{group:"tables-adds","expand-separator":"",icon:"supervised_user_circle",label:"Capacitación"},model:{value:e.sections.trainings,callback:function(t){e.$set(e.sections,"trainings",t)},expression:"sections.trainings"}},[s("q-card",[s("q-card-section",[s("Trainings",{attrs:{loading:e.loadingStateTranings,idTarget:e.action.id}})],1)],1)],1)],1)],1)],1)},o=[],n=(a("456d"),a("8a81"),a("d25f"),a("9986"),a("8e6e"),a("9523")),l=a.n(n),i=a("c973"),r=a.n(i),c=(a("7f7f"),a("5df3"),a("06db"),a("cadf"),a("ac6a"),a("551c"),a("a34a")),u=a.n(c),p=a("bd4c"),d=a("e71c"),m=a("0e14"),f=a("234a"),b=a("8331"),y=a("c26b"),D=a("2fa3"),g=a("b928"),x=a("3906"),v=a("8942"),C=a("1aa7"),h=a("7a93");function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w=p["b"].formatDate,P=p["b"].subtractFromDate,$=Date.now(),S={name:"AlterCurriculum",components:{SelectionInput:m["a"],Courses:g["a"],Educations:x["a"],Experiences:v["a"],Informations:C["a"],Trainings:h["a"]},mixins:[f["a"]],data:function(){return{sectionsSelected:{},sections:{courses:!1,education:!1,experiences:!1,information:!1,trainings:!1},loadingState:!0,loadingStateCourse:!0,loadingStateEducation:!0,loadingStateExperience:!0,loadingStateInformation:!0,loadingStateTranings:!0,formEmployee:!1,employeeData:{npib:null,code:null,password:null,dateIn:w($,"DD/MM/YYYY"),filing:null,active:!0,passport:null,sure:null,houseType:"Arrendada",dependents:0,activity:null,work:null,machine:null,computer:!1,hobi:null,userType:null,person:null,city:null,languages:null,militaryCard:{class:"Primera",district:null},license:{expeditionDate:w($,"DD/MM/YYYY"),effectiveDate:w($,"DD/MM/YYYY"),licenseCategory:null}},formPerson:!1,personData:{name:null,birthDate:w($,"DD/MM/YYYY"),sex:"Masculino",live:!0,neighborhood:null,address:null,phone:null,mobile:null,civilStatus:"Soltero(a)",document:null,height:0,weight:0,email:null,photo:null,bloodType:null,birthCity:null,profession:null},bloodTypes:[],professions:[],withPersons:!0,loading:!1,isPwd:!0,today:$,ROUTES:d["p"],militaryCard:!1,license:!1,userTypes:[],persons:[],cities:[],licenseCategories:[],languages:[]}},methods:{onSubmitEmployee:function(){var e=this;return r()(u.a.mark((function t(){var a,s,o,n;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=JSON.parse(JSON.stringify(e.employeeData)),a.militaryCard=e.militaryCard?a.militaryCard:null,a.license=e.license?a.license:null,t.prev=4,t.next=7,b["a"].getApiFormat(a);case 7:return s=t.sent,t.next=10,e.$store.dispatch("employees/update",s);case 10:o="Se actualizo correctamente la información del empleado",e.createNotification(k({message:o,timeout:3e3},d["q"])),e.loading=!1,e.formEmployee=!1,t.next=21;break;case 16:t.prev=16,t.t0=t["catch"](4),n=Object(D["d"])(t.t0),e.createNotification(k({message:n,timeout:5e3},d["b"])),e.loading=!1;case 21:case"end":return t.stop()}}),t,null,[[4,16]])})))()},onSubmitPerson:function(){var e=this;return r()(u.a.mark((function t(){var a,s,o,n;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,y["a"].getApiFormat(e.personData);case 4:return a=t.sent,t.next=7,e.$store.dispatch("persons/update",a);case 7:s="Se actualizo correctamente su información personal",e.createNotification(k({message:s,timeout:3e3},d["q"])),e.loading=!1,e.personData.id===e.user.id?(o=k({},e.user),o.name=e.personData.name,o.avatar=e.personData.photo?e.personData.photo:e.user.avatar,e.$q.localStorage.set(d["n"],o),e.formPerson=!1,setTimeout((function(){e.$router.go()}),400)):e.formPerson=!1,t.next=18;break;case 13:t.prev=13,t.t0=t["catch"](1),n=Object(D["d"])(t.t0),e.createNotification(k({message:n,timeout:5e3},d["b"])),e.loading=!1;case 18:case"end":return t.stop()}}),t,null,[[1,13]])})))()},maxDateIsToday:function(e){return e<=w($,"YYYY/MM/DD")},minimumYears:function(e){return e<=w(P($,{year:18}),"YYYY/MM/DD")},minDateIsToday:function(e){return e>=w($,"YYYY/MM/DD")},onPickFile:function(){this.$refs.fileInput.click()},onFilePicked:function(e){var t=this,a=e.target.files,s=a[0].name;if(s.lastIndexOf(".")>0){var o=new FileReader;o.addEventListener("load",(function(){t.personData.photo=o.result})),o.readAsDataURL(a[0])}}},computed:{user:function(){return this.$q.localStorage.getItem(d["n"])},action:function(){return{created:!1,id:this.user.id}}},created:function(){var e=this;return r()(u.a.mark((function t(){var a,s;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=Promise,t.next=3,e.$store.dispatch("ui/getUserTypes");case 3:return t.t1=e.userTypes=t.sent,t.next=6,e.$store.dispatch("ui/getCities");case 6:return t.t2=e.cities=t.sent,t.next=9,e.$store.dispatch("ui/getLicenseCategories");case 9:return t.t3=e.licenseCategories=t.sent,t.next=12,e.$store.dispatch("ui/getLanguages");case 12:return t.t4=e.languages=t.sent,t.next=15,e.$store.dispatch("ui/getBloodTypes");case 15:return t.t5=e.bloodTypes=t.sent,t.next=18,e.$store.dispatch("ui/getProfessions");case 18:return t.t6=e.professions=t.sent,t.next=21,e.$store.dispatch("ranks/get");case 21:return t.t7=e.ranks=t.sent,t.t8=[t.t1,t.t2,t.t3,t.t4,t.t5,t.t6,t.t7],t.next=25,t.t0.all.call(t.t0,t.t8);case 25:return a=e.action.id,t.next=28,e.$store.dispatch("employees/getForIdWithPassword",a);case 28:s=t.sent,e.persons.unshift(s.person),e.employeeData=s,e.militaryCard=null!==s.militaryCard,e.employeeData.militaryCard=s.militaryCard||{class:"Primera",district:null},e.license=null!==s.license,e.employeeData.license=s.license||{expeditionDate:w($,"DD/MM/YYYY"),effectiveDate:w($,"DD/MM/YYYY"),licenseCategory:e.licenseCategories?e.licenseCategories[0]:{}},e.personData=e.employeeData.person,e.loadingState=!1;case 37:case"end":return t.stop()}}),t)})))()},updated:function(){var e=this;return r()(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.sectionsSelected.courses===e.sections.courses&&e.sectionsSelected.education===e.sections.education&&e.sectionsSelected.experiences===e.sections.experiences&&e.sectionsSelected.information===e.sections.information&&e.sectionsSelected.trainings===e.sections.trainings){t.next=34;break}if(!e.sections.courses){t.next=8;break}return e.sectionsSelected=JSON.parse(JSON.stringify(e.sections)),t.next=5,e.$store.dispatch("employeeCourses/getForEmployee",e.action.id);case 5:e.loadingStateCourse=!1,t.next=34;break;case 8:if(!e.sections.education){t.next=15;break}return e.sectionsSelected=JSON.parse(JSON.stringify(e.sections)),t.next=12,e.$store.dispatch("employeeEducations/getForEmployee",e.action.id);case 12:e.loadingStateEducation=!1,t.next=34;break;case 15:if(!e.sections.experiences){t.next=22;break}return e.sectionsSelected=JSON.parse(JSON.stringify(e.sections)),t.next=19,e.$store.dispatch("employeeExperiences/getForEmployee",e.action.id);case 19:e.loadingStateExperience=!1,t.next=34;break;case 22:if(!e.sections.information){t.next=29;break}return e.sectionsSelected=JSON.parse(JSON.stringify(e.sections)),t.next=26,e.$store.dispatch("employeeInformations/getForEmployee",e.action.id);case 26:e.loadingStateInformation=!1,t.next=34;break;case 29:if(!e.sections.trainings){t.next=34;break}return e.sectionsSelected=JSON.parse(JSON.stringify(e.sections)),t.next=33,e.$store.dispatch("employeeTrainings/getForEmployee",e.action.id);case 33:e.loadingStateTranings=!1;case 34:case"end":return t.stop()}}),t)})))()}},F=S,Y=(a("9bbb"),a("2877")),T=Object(Y["a"])(F,s,o,!1,null,null,null);t["default"]=T.exports},"52be":function(e,t,a){},"9bbb":function(e,t,a){"use strict";var s=a("52be"),o=a.n(s);o.a}}]);