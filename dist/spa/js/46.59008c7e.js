(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[46],{dab4:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-py-lg q-px-xl bg-grey-2 background-height"},[t._m(0),n("q-separator"),t.employees?t.employees&&t.employees.length?n("div",[n("div",{staticClass:"row q-mt-md"},[n("q-select",{staticClass:"ControlForm col",attrs:{filled:"",label:"Empleado:",options:t.employees,"option-value":"id","option-label":function(t){return null===t?"":t.person+" - "+t.position+" ("+t.code+")"},"stack-label":"","lazy-rules":"",rules:[]},model:{value:t.curriculumReport.employee,callback:function(e){t.$set(t.curriculumReport,"employee",e)},expression:"curriculumReport.employee"}})],1),n("div",{staticClass:"text-center"},[n("q-btn",{staticClass:"text-bold",attrs:{label:"GENERAR HOJA DE VIDA",loading:t.loading,color:"positive"},on:{click:t.generateCurriculumReport}})],1)]):n("div",{staticClass:"text-center"},[n("div",{staticClass:"empty-state normal-section empty-curriculums"}),n("h3",{staticClass:"empty-copy"},[t._v(" No hay empleados registrados.. ")])]):n("div",[n("q-spinner-tail",{staticClass:"absolute-center text-default",attrs:{size:"5em"}})],1)],1)},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row q-mb-xs"},[n("div",{staticClass:"title"},[t._v("REPORTES - HOJAS DE VIDA")])])}],r=(n("456d"),n("8a81"),n("d25f"),n("9986"),n("8e6e"),n("9523")),a=n.n(r),i=n("c973"),s=n.n(i),l=(n("7f7f"),n("06db"),n("6b54"),n("7514"),n("a34a")),u=n.n(l),d=n("bd4c"),x=n("e499"),p=n.n(x),b=n("4ebb"),m=n.n(b),g=n("e71c"),f=n("2fa3");function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}p.a.vfs=m.a.pdfMake.vfs;var C=d["b"].formatDate,O={name:"CurriculumReports",data:function(){return{loading:!1,curriculumReport:{employee:null},employees:null}},computed:{user:function(){return this.$q.localStorage.getItem(g["n"])}},methods:{generateCurriculumReport:function(){var t=this;return s()(u.a.mark((function e(){var n;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$store.dispatch("employees/getCurriculumPersonal",t.curriculumReport.employee.id);case 3:n=e.sent,t.createPDF(n),t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},generateLanguages:function(t){return s()(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.reduce((function(t,e,n){return t+=0===n?"".concat(e.nombre):", ".concat(e.nombre),t}),[]));case 1:case"end":return e.stop()}}),e)})))()},generateStudies:function(t){return s()(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.reduce((function(t,e){return t.push({text:[{text:"Institución: ",color:"#C25B52",bold:!0},{text:"".concat(e.institucion,"\n")},{text:"Titulo obtenido: ",bold:!0},{text:"".concat(e.titulo_obtenido,"\n")},{text:"Fecha de realización: ",bold:!0},{text:"".concat(Object(f["b"])(e.fecha),"\n")},{text:"Lugar de realización: ",bold:!0},{text:"".concat(e.ciudad,", ").concat(e.departamento,"\n")},{text:"Actualmente: ",bold:!0},e.terminado?{text:"Terminado\n"}:{text:"En curso\n"},{text:"\n",style:"smallFont"}]}),t}),[]));case 1:case"end":return e.stop()}}),e)})))()},generateCourses:function(t){return s()(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.reduce((function(t,e){return t.push({text:[{text:"Nombre: ",color:"#C25B52",bold:!0},{text:"".concat(e.curso,"\n")},{text:"Institución: ",bold:!0},{text:"".concat(e.institucion,"\n")},{text:"Fecha de realización: ",bold:!0},{text:"".concat(Object(f["b"])(e.fecha),"\n")},{text:"Duración: ",bold:!0},{text:"".concat(e.duracion,"\n")},{text:"\n",style:"smallFont"}]}),t}),[]));case 1:case"end":return e.stop()}}),e)})))()},generateExperiences:function(t){return s()(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.reduce((function(t,e){return t.push({text:[{text:"Empresa: ",color:"#C25B52",bold:!0},{text:"".concat(e.empresa,"\n")},{text:"Cargo: ",bold:!0},{text:"".concat(e.cargo,"\n")},{text:"Duración: ",bold:!0},e.fecha_retiro?{text:"".concat(Object(f["b"])(e.fecha_ingreso)," - ").concat(Object(f["b"])(e.fecha_retiro),"\n")}:{text:"".concat(Object(f["b"])(e.fecha_ingreso)," - Actualidad\n")},e.direccion?{text:"Dirección: ",bold:!0}:{},e.direccion?{text:"".concat(e.direccion,"\n")}:{},{text:"Telefono: ",bold:!0},{text:"".concat(e.telefono,"\n")},e.labores?{text:"Labores: ",bold:!0}:{},e.labores?{text:"".concat(e.labores,"\n")}:{},{text:"\n",style:"smallFont"}]}),t}),[]));case 1:case"end":return e.stop()}}),e)})))()},generateInformations:function(t){return s()(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.reduce((function(t,e){return t.push({text:[{text:"Institución: ",color:"#C25B52",bold:!0},{text:"".concat(e.institucion,"\n")},{text:"Cargo: ",bold:!0},{text:"".concat(e.cargo,"\n")},{text:"Duración: ",bold:!0},e.fecha_baja?{text:"".concat(Object(f["b"])(e.fecha_inicio)," - ").concat(Object(f["b"])(e.fecha_baja),"\n")}:{text:"".concat(Object(f["b"])(e.fecha_inicio)," - Actualidad\n")},{text:"Rango: ",bold:!0},{text:"".concat(e.rango,"\n")},e.resolucion?{text:"Resolución: ",bold:!0}:{},e.resolucion?{text:"".concat(e.resolucion,"\n")}:{},{text:"\n",style:"smallFont"}]}),t}),[]));case 1:case"end":return e.stop()}}),e)})))()},generatePromotions:function(t){return s()(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.reduce((function(t,e){return t.push({text:[{text:"Rango: ",color:"#C25B52",bold:!0},{text:"".concat(e.rango,"\n")},{text:"Acta: ",bold:!0},{text:"".concat(e.codigo_acta,", ")},{text:"fecha: ",bold:!0},{text:"".concat(Object(f["b"])(e.fecha_acta),"\n")},{text:"Resolución: ",bold:!0},{text:"".concat(e.codigo_resolucion,", ")},{text:"fecha: ",bold:!0},{text:"".concat(Object(f["b"])(e.fecha_resolucion),"\n")},{text:"Estado: ",bold:!0},"Si"===e.activo?{text:"Activo\n"}:{text:"Inactivo(".concat(Object(f["b"])(e.fecha_desactivacion),")\n")},{text:"\n",style:"smallFont"}]}),t}),[]));case 1:case"end":return e.stop()}}),e)})))()},generateTrainings:function(t){return s()(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.reduce((function(t,e){return t.push({text:[{text:"Institución: ",color:"#C25B52",bold:!0},{text:"".concat(e.institucion,"\n")},e.evento?{text:"Evento: ",bold:!0}:{},e.evento?{text:"".concat(e.evento,"\n")}:{},e.hora_practica?{text:"Horas prácticas: ",bold:!0}:{},e.hora_practica?{text:"".concat(e.hora_practica,"\n")}:{},e.hora_teorica?{text:"Horas teoricas: ",bold:!0}:{},e.hora_teorica?{text:"".concat(e.hora_teorica,"\n")}:{},{text:"Fecha: ",bold:!0},{text:"".concat(Object(f["b"])(e.fecha),"\n")},{text:"\n",style:"smallFont"}]}),t}),[]));case 1:case"end":return e.stop()}}),e)})))()},generateAwards:function(t){return s()(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.reduce((function(t,e){return t.push({text:[{text:"Tipo de condecoración: ",color:"#C25B52",bold:!0},{text:"".concat(e.tipo_condecoracion,"\n")},{text:"Acta: ",bold:!0},{text:"".concat(e.codigo_acta,", ")},{text:"fecha: ",bold:!0},{text:"".concat(Object(f["b"])(e.fecha_acta),"\n")},{text:"Resolución: ",bold:!0},{text:"".concat(e.codigo_resolucion,", ")},{text:"fecha: ",bold:!0},{text:"".concat(Object(f["b"])(e.fecha_resolucion),"\n")},e.descripcion?{text:"Descripción",bold:!0}:{},e.descripcion?{text:"".concat(e.descripcion,"\n")}:{},{text:"\n",style:"smallFont"}]}),t}),[]));case 1:case"end":return e.stop()}}),e)})))()},generateAppointments:function(t){return s()(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.reduce((function(t,e){return t.push({text:[{text:"Cargo: ",color:"#C25B52",bold:!0},{text:"".concat(e.cargo,"\n")},{text:"Fecha: ",bold:!0},{text:"".concat(Object(f["b"])(e.fecha),"\n")},{text:"Articulo: ",bold:!0},{text:"".concat(e.articulo,"\n")},{text:"Orden: ",bold:!0},{text:"".concat(e.orden,"\n")},e.descripcion?{text:"Descripción: ",bold:!0}:{},e.descripcion?{text:"".concat(e.descripcion,"\n")}:{},{text:"\n",style:"smallFont"}]}),t}),[]));case 1:case"end":return e.stop()}}),e)})))()},generateSanctions:function(t){return s()(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.reduce((function(t,e){return t.push({text:[{text:"Tipo de sanción: ",color:"#C25B52",bold:!0},{text:"".concat(e.tipo_sancion,"\n")},{text:"Fecha: ",bold:!0},{text:"".concat(Object(f["b"])(e.fecha),"\n")},{text:"Orden: ",bold:!0},{text:"".concat(e.orden,"\n")},e.descripcion?{text:"Descripción: ",bold:!0}:{},e.descripcion?{text:"".concat(e.descripcion,"\n")}:{},{text:"\n",style:"smallFont"}]}),t}),[]));case 1:case"end":return e.stop()}}),e)})))()},createPDF:function(t){var e=this;return s()(u.a.mark((function n(){var o,c,r,a,i,s,l,d,x,b,m,g,h;return u.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o={type:"line",x1:0,y1:5,x2:480,y2:5,lineWidth:2,lineColor:"#C25B52"},n.next=3,e.generateLanguages(t.idiomas);case 3:return c=n.sent,n.next=6,e.generateStudies(t.educaciones);case 6:return r=n.sent,n.next=9,e.generateExperiences(t.experiencias);case 9:return a=n.sent,n.next=12,e.generateCourses(t.cursos);case 12:return i=n.sent,n.next=15,e.generateInformations(t.informaciones);case 15:return s=n.sent,n.next=18,e.generatePromotions(t.ascensos);case 18:return l=n.sent,n.next=21,e.generateTrainings(t.capacitaciones);case 21:return d=n.sent,n.next=24,e.generateAwards(t.condecoraciones);case 24:return x=n.sent,n.next=27,e.generateAppointments(t.nombramientos);case 27:return b=n.sent,n.next=30,e.generateSanctions(t.sanciones);case 30:m=n.sent,g={info:{title:"Hoja de vida de ".concat(t.persona.nombre),author:"".concat(e.user.name),subject:"Generado desde la aplicacion de Bomberos Voluntarios Villa del Rosario",creator:"Bomberos Voluntarios Villa del Rosario"},footer:function(t,e){return{columns:[{text:"".concat(t.toString()," de ").concat(e),alignment:"right",fontSize:10,margin:[25,10],color:"#C25B52"}]}},header:{columns:[{text:"Bomberos Voluntarios de Villa del Rosario",alignment:"left",fontSize:10,margin:[25,10],color:"#C25B52"},{text:"".concat(C(new Date,"DD/MM/YYYY hh:mm aa")),alignment:"right",style:"smallFont",margin:[25,10],color:"#C25B52"}]},content:[t.persona.fotografia?{image:t.persona.fotografia,style:"imageProfile",width:150}:{},{text:t.persona.nombre.toUpperCase(),style:"title",margin:[0,10,0,0]},{text:t.tipo_usuario.nombre,style:"subtitle"},{canvas:[{type:"line",x1:0,y1:5,x2:480,y2:5,lineWidth:2,lineColor:"#C25B52"}],alignment:"center"},{margin:[0,10,0,0],alignment:"justify",columns:[{text:[{text:"DATOS PERSONALES\n",bold:!0,color:"#C25B52"},{text:[{text:"Cedula: ",bold:!0},{text:"".concat(t.persona.documento,"\n")},{text:"Tipo de Sangre: ",bold:!0},{text:"".concat(t.persona.tipo_sangre.nombre,"\n")},{text:"Correo: ",bold:!0},{text:"".concat(t.persona.email,"\n")},{text:"Fecha de nacimiento: ",bold:!0},{text:"".concat(Object(f["b"])(t.persona.fecha_nacimiento),"\n")},t.persona.direccion?{text:"Dirección: ",bold:!0}:{},t.persona.direccion?{text:"".concat(t.persona.direccion,"\n")}:{},t.persona.barrio?{text:"Barrio: ",bold:!0}:{},t.persona.barrio?{text:"".concat(t.persona.barrio,"\n")}:{},{text:"Nacimiento: ",bold:!0},{text:"".concat(t.persona.ciudad_nacimiento.nombre,", ").concat(t.persona.ciudad_nacimiento.departamento.nombre,"\n")},{text:"Sexo: ",bold:!0},"M"===t.persona.sexo?{text:"Masculino\n"}:{text:"Femenino\n"},{text:"Estado civil: ",bold:!0},{text:"".concat(t.persona.estado_civil,"\n")}]}],alignment:"right",margin:[0,0,0,5]},{text:[{text:"INFORMACION LABORAL\n",bold:!0,color:"#C25B52"},{text:[{text:"Código: ",bold:!0},{text:"".concat(t.codigo,"\n")},{text:"Fecha ingreso: ",bold:!0},{text:"".concat(Object(f["b"])(t.fecha_ingreso),"\n")},{text:"Estadia: ",bold:!0},{text:"".concat(t.ciudad.nombre,", ").concat(t.ciudad.departamento.nombre,"\n")},{text:"Profesión: ",bold:!0},{text:"".concat(t.persona.profesion.nombre,"\n")},{text:"Celular de contacto: ",bold:!0},{text:"".concat(t.persona.celular,"\n")},{text:"Idiomas: ",bold:!0},{text:"".concat(c,".\n")}],alignment:"left"}]}]},r.length>0?{canvas:[v({},o)],alignment:"center"}:{},r.length>0?{margin:[30,8,0,0],text:[{text:"ESTUDIOS\n",bold:!0,color:"#C25B52",alignment:"center"},{text:r}]}:{},a.length>0?{canvas:[v({},o)],alignment:"center"}:{},a.length>0?{margin:[30,8,0,0],text:[{text:"EXPERIENCIA LABORAL\n",bold:!0,color:"#C25B52",alignment:"center"},{text:a}]}:{},i.length>0?{canvas:[v({},o)],alignment:"center"}:{},i.length>0?{margin:[30,8,0,0],text:[{text:"CURSOS BOMBERILES\n",bold:!0,color:"#C25B52",alignment:"center"},{text:i}]}:{},s.length>0?{canvas:[v({},o)],alignment:"center"}:{},s.length>0?{margin:[30,8,0,0],text:[{text:"INFORMACION BOMBERIL\n",bold:!0,color:"#C25B52",alignment:"center"},{text:s}]}:{},l.length>0?{canvas:[v({},o)],alignment:"center"}:{},l.length>0?{margin:[30,8,0,0],text:[{text:"ASCENSOS\n",bold:!0,color:"#C25B52",alignment:"center"},{text:l}]}:{},d.length>0?{canvas:[v({},o)],alignment:"center"}:{},d.length>0?{margin:[30,8,0,0],text:[{text:"CAPACITACIONES\n",bold:!0,color:"#C25B52",alignment:"center"},{text:d}]}:{},x.length>0?{canvas:[v({},o)],alignment:"center"}:{},x.length>0?{margin:[30,8,0,0],text:[{text:"CONDECORACIONES\n",bold:!0,color:"#C25B52",alignment:"center"},{text:x}]}:{},b.length>0?{canvas:[v({},o)],alignment:"center"}:{},b.length>0?{margin:[30,8,0,0],text:[{text:"NOMBRAMIENTOS\n",bold:!0,color:"#C25B52",alignment:"center"},{text:b}]}:{},m.length>0?{canvas:[v({},o)],alignment:"center"}:{},m.length>0?{margin:[30,8,0,0],text:[{text:"SANCIONES\n",bold:!0,color:"#C25B52",alignment:"center"},{text:m}]}:{}],styles:{title:{bold:!0,fontSize:15,alignment:"center"},subtitle:{bold:!0,fontSize:13,alignment:"center",color:"#C25B52"},imageProfile:{alignment:"center"},smallFont:{fontSize:10}},defaultStyle:{columnGap:40,fontSize:11}},h=p.a.createPdf(g),h.download("Hoja de vida de ".concat(t.persona.nombre));case 34:case"end":return n.stop()}}),n)})))()}},created:function(){var t=this;return s()(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("employees/get");case 2:t.employees=e.sent,t.curriculumReport.employee=t.employees?t.employees[0]:null;case 4:case"end":return e.stop()}}),e)})))()},beforeRouteEnter:function(t,e,n){n((function(e){if(e.user){var o=Object(g["v"])(e.user.type),c=o.find((function(e){return e===t.path}));c||n(o[0]),n()}else n("/")}))}},w=O,y=n("2877"),_=Object(y["a"])(w,o,c,!1,null,null,null);e["default"]=_.exports}}]);