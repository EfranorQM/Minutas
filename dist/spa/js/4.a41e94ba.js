(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{4129:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{attrs:{view:"lHh Lpr lFf"}},[a("q-header",{attrs:{elevated:""}},[a("q-toolbar",{staticClass:"q-py-sm header"},[a("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),a("SelectionInput",{staticClass:"q-ml-md",attrs:{optionsMenu:e.menuSearch,optionValue:"link",optionLabel:"name",callToAction:e.redirectToSelected,dark:!0,dense:!0,standout:!0,icon:"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("q-toolbar-title"),a("UserSection",{attrs:{signOut:e.signOut}})],1)],1),a("q-drawer",{attrs:{"show-if-above":"",bordered:""},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[a("q-scroll-area",{staticClass:"scrollArea"},[a("MenuList",{attrs:{menu:e.menu}})],1)],1),a("q-page-container",[a("router-view")],1)],1)},n=[],s=a("448a"),i=a.n(s),o=(a("a481"),a("b54a"),a("e71c")),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-list",{staticClass:"app-menu"},[r("q-item-label",{attrs:{header:""}},[r("q-img",{attrs:{src:"statics/logo-large.png"}})],1),r("q-separator"),r("q-item",{attrs:{to:e.ROUTES.personal.alterOwnCurriculum,clickable:""}},[r("q-item-section",{attrs:{avatar:""}},[r("q-avatar",{attrs:{size:"md"}},[e.user.avatar?r("q-img",{attrs:{src:e.user.avatar}}):r("q-img",{attrs:{src:a("874c")}})],1)],1),r("q-item-section",[e._v("Hoja de vida personal")])],1),r("q-separator"),e._l(e.menu,(function(t,a){return r("q-expansion-item",{key:a,attrs:{group:"menu","expand-separator":"",icon:t.icon,label:t.label,"default-opened":0===a}},e._l(t.options,(function(t,a){return r("q-item",{key:a,attrs:{dense:"","inset-level":1,clickable:"",to:t.link}},[r("q-item-section",[e._v(e._s(t.name))])],1)})),1)}))],2)},u=[],c={name:"MenuList",data:function(){return{ROUTES:o["p"]}},computed:{user:function(){return this.$q.localStorage.getItem(o["n"])}},props:{menu:{type:Array,default:function(){return[]}}}},m=c,p=a("2877"),d=Object(p["a"])(m,l,u,!1,null,null,null),f=d.exports,q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.userInfo?r("q-btn-dropdown",{attrs:{flat:"",dense:""},on:{show:e.updateHour},scopedSlots:e._u([e.$q.screen.lt.sm?null:{key:"label",fn:function(){return[r("div",{staticClass:"row items-center no-wrap"},[r("q-avatar",[e.userInfo.avatar?r("q-img",{attrs:{src:e.userInfo.avatar}}):r("q-img",{attrs:{src:a("874c")}})],1),r("div",{staticClass:"column text-center text-capitalize q-ml-sm"},[e._v("\n        "+e._s(e.userInfo.name)+"\n        "),r("q-badge",{staticClass:"text-weight-bold text-tertiary column",attrs:{color:"white"}},[e._v("\n          "+e._s(e.getNameOfType(e.userInfo.type))+"\n        ")])],1)],1)]},proxy:!0}],null,!0)},[r("q-list",[e.$q.screen.lt.sm?r("div",{staticClass:"text-center"},[r("div",{staticClass:"q-mt-sm"},[r("q-avatar",[e.userInfo.avatar?r("q-img",{attrs:{src:e.userInfo.avatar}}):r("q-img",{attrs:{src:a("874c")}})],1),r("div",[e._v("\n            "+e._s(e.userInfo.name)+"\n          ")])],1),r("q-badge",{staticClass:"q-mb-sm bg-default text-bold",attrs:{align:"middle",label:e.getNameOfType(e.userInfo.type)}})],1):e._e(),r("q-separator"),r("q-item",{attrs:{clickable:""},on:{click:e.signOut}},[r("q-item-section",{attrs:{"no-wrap":""}},[r("q-item-label",[e._v("Cerrar sesión")]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.currentHour))])],1),r("q-item-section",{attrs:{side:""}},[r("q-icon",{staticClass:"text-default",attrs:{name:"cancel"}})],1)],1)],1)],1):e._e()],1)},h=[],v=a("bd4c"),b=v["b"].formatDate,g={name:"UserSection",data:function(){return{small:!1,currentHour:b(new Date,"hh:mm aa")}},props:{signOut:{type:Function,default:function(){}}},computed:{userInfo:function(){return this.$q.localStorage.getItem(o["n"])}},methods:{updateHour:function(){this.currentHour=b(new Date,"hh:mm aa")},getNameOfType:function(e){var t=null;return"administrador-general"===e?t="Administrador General":"minuta"===e?t="Minuta":"maquinista"===e?t="Maquinista":"prevencion-y-seguridad"===e?t="Prevención y seguridad":"extintores"===e?t="Extintores":"personal"===e?t="Personal":"supervisor"===e?t="Supervisor":"normal"===e&&(t="Normal"),t}}},w=g,_=Object(p["a"])(w,q,h,!1,null,null,null),y=_.exports,O=a("0e14"),S={name:"Dashboard",data:function(){return{search:{},leftDrawerOpen:!1,menu:null,menuSearch:null}},components:{MenuList:f,UserSection:y,SelectionInput:O["a"]},methods:{signOut:function(){this.$store.dispatch("employees/cancelFingerPrint"),this.$q.localStorage.remove(o["n"]),this.$router.replace("/")},redirectToSelected:function(e){this.$router.history.current.path!==e.link&&this.$router.replace(e.link)}},computed:{user:function(){return this.$q.localStorage.getItem(o["n"])}},created:function(){this.user&&(this.menu=Object(o["u"])(this.user.type),this.menuSearch=this.menu.reduce((function(e,t){return e.push.apply(e,i()(t.options)),e}),[]))}},k=S,x=(a("d8f5"),Object(p["a"])(k,r,n,!1,null,null,null));t["default"]=x.exports},a6a7:function(e,t,a){},d8f5:function(e,t,a){"use strict";var r=a("a6a7"),n=a.n(r);n.a}}]);