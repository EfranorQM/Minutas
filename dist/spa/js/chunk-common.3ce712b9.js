(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],{"0e14":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-select",{class:"ControlForm q-pb-none "+(0===e.label.length?"withOutLabel":""),attrs:{dark:e.dark,dense:e.dense,standout:e.standout,filled:e.filled,label:e.label,hint:e.hint,disable:e.disable,readonly:e.readonly,"stack-label":"","use-input":"","dropdown-icon":e.icon,behavior:"menu","hide-selected":"","fill-input":"",loading:e.loading,"input-debounce":"0","option-value":e.optionValue,"option-label":e.optionLabel,"popup-content-class":"list-options",options:e.options,rules:e.rules},on:{filter:e.filterFn,input:e.selected},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("\n          Sin resultados\n        ")])],1)]},proxy:!0}]),model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)},i=[],s=(a("d25f"),a("7f7f"),a("23bf"),{name:"SelectionInput",data:function(){return{search:this.searchParent,options:this.optionsMenu,loading:!1}},props:{optionsMenu:{type:Array,default:function(){return[]}},optionValue:{type:String,default:""},optionLabel:{type:String,default:""},callToAction:{type:Function,default:function(){}},searchParent:{type:Object,default:function(){}},dark:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},standout:{type:Boolean,default:!1},filled:{type:Boolean,default:!1},icon:{type:String,default:""},label:{type:String,default:""},hint:{type:String,default:""},rules:{type:Array,default:function(){return[]}}},methods:{filterFn:function(e,t,a){var n=this;e.length<2?a():(this.loading=!0,t((function(){var t=e.toLowerCase(),a=n.optionsMenu.filter((function(e){return e.name.toLowerCase().indexOf(t)>-1}));n.options=a.length>5?a.slice(0,5):a,n.loading=!1})))},selected:function(e){this.$emit("input",e),this.callToAction(e)}}}),o=s,r=(a("54d9"),a("2877")),l=Object(r["a"])(o,n,i,!1,null,null,null);t["a"]=l.exports},1529:function(e,t,a){},"1aa7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row q-mb-xs"},[!e.loading&&e.informations&&e.informations.length?a("InteractionOptions",{attrs:{selected:e.selected,createFunction:e.openCreateNew,editFunction:e.openUpdate,deleteFunction:e.openDelete}}):e._e()],1),e.loading?a("q-spinner-dots",{staticClass:"absolute-center text-default",attrs:{size:"3em"}}):e.informations&&e.informations.length?a("TableView",{key:e.reRenderTable,attrs:{information:e.informations,columns:e.columns,visibleColumns:e.visibleColumns},on:{selection:function(t){e.selected=t}}}):a("div",{staticClass:"text-center"},[a("div",{staticClass:"empty-state small-section empty-informations"}),a("h3",{staticClass:"empty-copy"},[e._v(" No hay registros aún.. ")]),a("q-btn",{staticClass:"text-capitalize",staticStyle:{height:"min-content"},attrs:{color:"positive",label:"PRIMER REGISTRO"},on:{click:e.openCreateNew}})],1),a("q-dialog",{model:{value:e.alterInformations,callback:function(t){e.alterInformations=t},expression:"alterInformations"}},[a("q-card",{staticStyle:{width:"450px","max-width":"80vw"}},[e.gettingInfo?a("q-spinner-tail",{staticClass:"absolute-center text-default",attrs:{size:"3em"}}):e._e(),a("q-card-section",[a("div",{staticClass:"text-h6 text-bold"},[e._v("Información Bomberil")])]),a("q-card-section",[a("q-form",{on:{submit:e.alterRow,reset:e.reset}},[a("q-toggle",{staticClass:"q-mb-sm",attrs:{color:"primary",label:"Actualmente activo"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}}),a("div",{staticClass:"row"},[a("q-input",{staticClass:"ControlForm col-7 q-mr-md",attrs:{filled:"",disable:e.gettingInfo,label:"Insitución","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingrese una institución"},function(e){return e&&e.length<=80||"Longitud maxima de 80 carácteres"}]},model:{value:e.informationData.institution,callback:function(t){e.$set(e.informationData,"institution",t)},expression:"informationData.institution"}}),a("q-input",{staticClass:"ControlForm col",attrs:{filled:"",disable:e.gettingInfo,label:"Fecha de Inicio",readonly:"","stack-label":"",rules:[function(e){return e&&e.length>0||"Por favor ingresa una fecha"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"DD/MM/YYYY",options:e.maxDateIsToday},on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e.informationData.dateIn,callback:function(t){e.$set(e.informationData,"dateIn",t)},expression:"informationData.dateIn"}})],1)],1)]},proxy:!0}]),model:{value:e.informationData.dateIn,callback:function(t){e.$set(e.informationData,"dateIn",t)},expression:"informationData.dateIn"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"ControlForm col-6 q-mr-md",attrs:{filled:"",disable:e.gettingInfo,label:"Cargo","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingrese un cargo"},function(e){return e&&e.length<=100||"Longitud maxima de 100 carácteres"}]},model:{value:e.informationData.position,callback:function(t){e.$set(e.informationData,"position",t)},expression:"informationData.position"}}),a("q-input",{staticClass:"ControlForm col",attrs:{filled:"",disable:e.gettingInfo,label:"Resolución","stack-label":"","lazy-rules":"",rules:[function(e){return!e||(e.length<=30||"Longitud maxima de 30 carácteres")}]},model:{value:e.informationData.resolution,callback:function(t){e.$set(e.informationData,"resolution",t)},expression:"informationData.resolution"}})],1),a("q-select",{staticClass:"ControlForm",attrs:{filled:"",disable:e.gettingInfo,label:"Rango",options:e.ranks,"option-value":"id","option-label":"name","stack-label":"","lazy-rules":"",rules:[]},model:{value:e.informationData.rank,callback:function(t){e.$set(e.informationData,"rank",t)},expression:"informationData.rank"}}),!e.isCreate&&e.informationData.pathFile?a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"row q-mb-xs subtitle"},[e._v("\n              Descargar archivo actual:\n            ")]),a("a",{attrs:{href:e.NATIVE_URL+"/files/informaciones/"+e.informationData.pathFile}},[a("q-btn",{staticClass:"full-width",attrs:{color:"positive","icon-right":"cloud_download",align:"between"}},[a("div",{staticClass:"ellipsis"},[e._v("\n                  "+e._s(e.informationData.pathFile.substr(12))+"\n                ")])])],1)]):e._e(),e.informationData.pathFile?e._e():a("div",{staticClass:"row q-mb-xs subtitle"},[e._v("\n            Subir archivo de soporte:\n          ")]),e.informationData.pathFile?a("div",{staticClass:"row q-mb-xs subtitle"},[e._v("\n            Cambiar archivo de soporte:\n          ")]):e._e(),a("div",{staticClass:"row q-mb-md"},[a("q-uploader",{staticClass:"col",attrs:{"hide-upload-btn":"",accept:".pdf, .dot, .doc, .docx, .odt, .xls, .xlsx, .ods, .ppt, .pptx, image/*"},on:{added:e.handleFileUpload}})],1),e.active?e._e():a("span",{staticClass:"q-ml-xs subtitle"},[e._v("Inactivo:")]),e.active?e._e():a("div",{staticClass:"row q-mt-xs"},[a("q-input",{staticClass:"ControlForm col-5 q-mr-md",attrs:{filled:"",disable:e.gettingInfo,label:"Fecha de baja",readonly:"","stack-label":"",rules:[function(t){return!e.active&&t&&t.length>0||"Por favor ingresa una fecha"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"DD/MM/YYYY",options:e.maxDateIsToday},on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e.informationData.dateOut,callback:function(t){e.$set(e.informationData,"dateOut",t)},expression:"informationData.dateOut"}})],1)],1)]},proxy:!0}],null,!1,2631515936),model:{value:e.informationData.dateOut,callback:function(t){e.$set(e.informationData,"dateOut",t)},expression:"informationData.dateOut"}})],1),a("q-separator",{staticClass:"q-mb-sm"}),a("div",{attrs:{align:"center"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"negative",type:"reset",flat:"",label:"Cancelar",disable:e.loadingAlter}}),a("q-btn",{attrs:{color:"positive",type:"submit",flat:"",label:"Guardar",disable:e.gettingInfo,loading:e.loadingAlter}})],1)],1)],1)],1)],1)],1)},i=[],s=(a("456d"),a("8a81"),a("d25f"),a("9986"),a("8e6e"),a("9523")),o=a.n(s),r=a("c973"),l=a.n(r),c=a("a34a"),u=a.n(c),d=(a("c5f6"),a("bd4c")),p=a("e71c"),f=a("333e"),m=a("b924"),g=a("e802"),b=[{en:"id",es:"ID"},{en:"dateIn",es:"FECHA INICIO"},{en:"dateOut",es:"FECHA BAJA"},{en:"position",es:"CARGO"},{en:"institution",es:"INSTITUCION"},{en:"resolution",es:"RESOLUCION"},{en:"pathFile",es:"ARCHIVO SOPORTE"},{en:"rank",es:"RANGO"}],h=["position","institution","pathFile","rank"],v=a("d7c9"),x=a("234a"),y=a("2fa3");function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q=d["b"].formatDate,w=Date.now(),k={name:"Informations",data:function(){return{alterInformations:!1,active:!1,informationData:{dateIn:q(w,"DD/MM/YYYY"),dateOut:q(w,"DD/MM/YYYY"),position:null,institution:null,resolution:null,rank:this.ranks.length>0?this.ranks[0]:null,idEmployee:this.idTarget,pathFile:null,file:null},selected:[],reRenderTable:0,visibleColumns:h,loadingAlter:!1,gettingInfo:!1,isCreate:null,NATIVE_URL:p["o"]}},mixins:[x["a"]],components:{TableView:f["a"],InteractionOptions:m["a"]},props:{loading:{type:Boolean,default:!1},idTarget:{type:Number,default:0},ranks:{type:Array,default:function(){return[]}}},computed:{informations:function(){return this.$store.getters["employeeInformations/list"]},columns:function(){return Object(p["t"])(this.informations,b,h)}},methods:{handleFileUpload:function(e){var t=e[0];this.informationData.file=t},openCreateNew:function(){this.isCreate=!0,this.reset(),this.alterInformations=!0},openUpdate:function(){var e=this;return l()(u.a.mark((function t(){var a;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isCreate=!1,e.reset(),e.alterInformations=!0,e.gettingInfo=!0,t.next=6,e.$store.dispatch("employeeInformations/getForId",e.selected[0].id);case 6:a=t.sent,e.active=!a.dateOut,e.informationData=a,e.informationData.dateOut=e.active?q(w,"DD/MM/YYYY"):a.dateOut,e.gettingInfo=!1;case 11:case"end":return t.stop()}}),t)})))()},alterRow:function(){var e=this;return l()(u.a.mark((function t(){var a,n,i,s,o,r;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loadingAlter=!0,e.informationData.dateOut=e.active?null:e.informationData.dateOut,!e.isCreate){t.next=24;break}return t.prev=3,t.next=6,v["a"].getApiFormat(e.informationData);case 6:return a=t.sent,t.next=9,e.$store.dispatch("employeeInformations/store",a);case 9:return n="Registro exitoso",t.next=12,e.$store.dispatch("employeeInformations/getForEmployee",e.idTarget);case 12:e.alterInformations=!1,e.loadingAlter=!1,e.createNotification(C({message:n,timeout:3e3},p["q"])),t.next=22;break;case 17:t.prev=17,t.t0=t["catch"](3),i=Object(y["d"])(t.t0),e.createNotification(C({message:i,timeout:5e3},p["b"])),e.loadingAlter=!1;case 22:t.next=43;break;case 24:return t.prev=24,t.next=27,v["a"].getApiFormat(e.informationData);case 27:return s=t.sent,t.next=30,e.$store.dispatch("employeeInformations/update",s);case 30:return o="Actualizacion exitosa",t.next=33,e.$store.dispatch("employeeInformations/getForEmployee",e.idTarget);case 33:e.alterInformations=!1,e.loadingAlter=!1,e.createNotification(C({message:o,timeout:3e3},p["q"])),t.next=43;break;case 38:t.prev=38,t.t1=t["catch"](24),r=Object(y["d"])(t.t1),e.createNotification(C({message:r,timeout:5e3},p["b"])),e.loadingAlter=!1;case 43:case"end":return t.stop()}}),t,null,[[3,17],[24,38]])})))()},organizerDataDelete:function(e){return e.reduce((function(e,t){return e.push({principal:t.position,caption:t.institution,side:t.dateIn}),e}),[])},openDelete:function(){var e=this;this.$q.dialog({component:g["a"],parent:this,dataShow:this.organizerDataDelete(this.selected),dataDelete:this.selected,deleteFunction:this.deleteRows}).onOk((function(){e.selected=[],e.reRenderTable+=1})).onCancel((function(){})).onDismiss((function(){e.$store.dispatch("employeeInformations/getForEmployee",e.idTarget)}))},deleteRows:function(e){var t=this;return l()(u.a.mark((function a(){return u.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("employeeInformations/remove",e);case 2:case"end":return a.stop()}}),a)})))()},reset:function(){this.active=!1,this.informationData={dateIn:q(w,"DD/MM/YYYY"),dateOut:q(w,"DD/MM/YYYY"),position:null,institution:null,resolution:null,idEmployee:this.idTarget,rank:this.ranks.length>0?this.ranks[0]:null,file:null,pathFile:null}},maxDateIsToday:function(e){return e<=q(w,"YYYY/MM/DD")}}},O=k,I=(a("eb3f"),a("2877")),F=Object(I["a"])(O,n,i,!1,null,null,null);t["a"]=F.exports},"234a":function(e,t,a){"use strict";var n=a("2a19");t["a"]={components:{Notify:n["a"]},methods:{createNotification:function(e){var t=e.message,a=e.timeout,i=void 0===a?3e3:a,s=e.icon,o=void 0===s?"warning":s,r=e.color,l=void 0===r?"white":r,c=e.textColor,u=void 0===c?"black":c,d=e.position,p=void 0===d?"top":d,f=e.closeBtn,m=void 0!==f&&f;n["a"].create({timeout:i,icon:o,color:l,textColor:u,message:t,position:p,closeBtn:m})}}}},"333e":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-table",{staticClass:"q-my-md",attrs:{data:e.information,columns:e.columns,"row-key":e.columns[0].name,filter:e.search,"no-data-label":"Aún no hay registros en la tabla.","no-results-label":"No hay registros compatibles con la busqueda.","selected-rows-label":e.getSelectedString,selection:"multiple",selected:e.selected,"visible-columns":e.visibleCol},on:{"update:selected":function(t){e.selected=t},selection:e.emitSelectedFake},scopedSlots:e._u([{key:"body-cell-oldValues",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",[a("q-badge",{attrs:{label:"JSON"}})],1),a("div",{staticClass:"my-table-oldValues"},[e._v("\n          "+e._s(t.row.oldValues)+"\n        ")])])]}},{key:"body-cell-newValues",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",[a("q-badge",{attrs:{label:"JSON"}})],1),a("div",{staticClass:"my-table-newValues"},[e._v("\n          "+e._s(t.row.newValues)+"\n        ")])])]}},{key:"top-right",fn:function(t){return[a("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"150px"},attrs:{multiple:"",outlined:"",dense:"","options-dense":"","display-value":"Columnas","emit-value":"","map-options":"",options:e.columns,"option-value":"name"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"visibility"}})]},proxy:!0}],null,!0),model:{value:e.visibleCol,callback:function(t){e.visibleCol=t},expression:"visibleCol"}})]}},{key:"top-left",fn:function(t){return[a("q-input",{staticClass:"q-ml-md",attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Buscar.."},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[a("q-icon",{attrs:{slot:"append",name:"search"},slot:"append"})],1)]}}])})],1)},i=[],s=(a("d25f"),{name:"TableView",data:function(){return{search:"",selected:[],selectedFake:[],visibleCol:this.visibleColumns}},methods:{emitSelectedFake:function(e){e.added&&e.rows.length>1?this.selectedFake=e.rows:!e.added&&e.rows.length>1?this.selectedFake=[]:e.added?this.selectedFake.push(e.rows[0]):e.added||(this.selectedFake=this.selectedFake.filter((function(t){return t.id!==e.rows[0].id}))),this.$emit("selection",this.selectedFake)},getSelectedString:function(){return 0===this.selected.length?"":"".concat(this.selected.length," Fila").concat(this.selected.length>1?"s":""," seleccionada").concat(this.selected.length>1?"s":"")}},props:{information:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},visibleColumns:{type:Array,default:function(){return[]}},selection:{type:Array,default:function(){return[]}}}}),o=s,r=(a("74ed"),a("2877")),l=Object(r["a"])(o,n,i,!1,null,null,null);t["a"]=l.exports},3906:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row q-mb-xs"},[!e.loading&&e.educations&&e.educations.length?a("InteractionOptions",{attrs:{selected:e.selected,createFunction:e.openCreateNew,editFunction:e.openUpdate,deleteFunction:e.openDelete}}):e._e()],1),e.loading?a("q-spinner-dots",{staticClass:"absolute-center text-default",attrs:{size:"3em"}}):e.educations&&e.educations.length?a("TableView",{key:e.reRenderTable,attrs:{information:e.educations,columns:e.columns,visibleColumns:e.visibleColumns},on:{selection:function(t){e.selected=t}}}):a("div",{staticClass:"text-center"},[a("div",{staticClass:"empty-state small-section empty-educations"}),a("h3",{staticClass:"empty-copy"},[e._v(" No hay registros aún.. ")]),a("q-btn",{staticClass:"text-capitalize",staticStyle:{height:"min-content"},attrs:{color:"positive",label:"PRIMER REGISTRO"},on:{click:e.openCreateNew}})],1),a("q-dialog",{model:{value:e.alterEducations,callback:function(t){e.alterEducations=t},expression:"alterEducations"}},[a("q-card",{staticStyle:{width:"400px","max-width":"80vw"}},[e.gettingInfo?a("q-spinner-tail",{staticClass:"absolute-center text-default",attrs:{size:"3em"}}):e._e(),a("q-card-section",[a("div",{staticClass:"text-h6 text-bold"},[e._v("Educación")])]),a("q-card-section",[a("q-form",{on:{submit:e.alterRow,reset:e.reset}},[a("q-input",{staticClass:"ControlForm q-mb-xs",attrs:{filled:"",disable:e.gettingInfo,label:"Institución","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingrese una institución"},function(e){return e&&e.length<=80||"Longitud maxima de 80 carácteres"}]},model:{value:e.educationData.institution,callback:function(t){e.$set(e.educationData,"institution",t)},expression:"educationData.institution"}}),a("q-input",{staticClass:"ControlForm q-mb-xs",attrs:{filled:"",disable:e.gettingInfo,label:"Titulo obtenido","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingrese un titulo"},function(e){return e&&e.length<=80||"Longitud maxima de 80 carácteres"}]},model:{value:e.educationData.title,callback:function(t){e.$set(e.educationData,"title",t)},expression:"educationData.title"}}),a("div",{staticClass:"row"},[a("q-input",{staticClass:"ControlForm col-6 q-mr-md",attrs:{filled:"",disable:e.gettingInfo,label:"Fecha",readonly:"","stack-label":"",rules:[function(e){return e&&e.length>0||"Por favor ingresa una fecha"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"DD/MM/YYYY",options:e.maxDateIsToday},on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e.educationData.date,callback:function(t){e.$set(e.educationData,"date",t)},expression:"educationData.date"}})],1)],1)]},proxy:!0}]),model:{value:e.educationData.date,callback:function(t){e.$set(e.educationData,"date",t)},expression:"educationData.date"}}),a("q-select",{staticClass:"ControlForm col",attrs:{filled:"",disable:e.gettingInfo,options:["Si","No"],label:"Terminado","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor dinos si está terminado"}]},model:{value:e.educationData.finish,callback:function(t){e.$set(e.educationData,"finish",t)},expression:"educationData.finish"}})],1),a("SelectionInput",{key:e.reloadCity,staticClass:"q-mb-lg",attrs:{disable:e.gettingInfo,searchParent:e.educationData.city,optionsMenu:e.cities,optionValue:"id",optionLabel:"name",filled:!0,label:"Ciudad",hint:e.educationData.city?"":"Escribe por lo menos dos letras, ten en cuenta las tildes.",rules:[function(){return e.educationData.city||"Por favor selecciona una ciudad"}]},model:{value:e.educationData.city,callback:function(t){e.$set(e.educationData,"city",t)},expression:"educationData.city"}}),a("q-separator",{staticClass:"q-mb-sm"}),a("div",{attrs:{align:"center"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"negative",type:"reset",flat:"",label:"Cancelar",disable:e.loadingAlter}}),a("q-btn",{attrs:{color:"positive",type:"submit",flat:"",label:"Guardar",disable:e.gettingInfo,loading:e.loadingAlter}})],1)],1)],1)],1)],1)],1)},i=[],s=(a("456d"),a("8a81"),a("d25f"),a("9986"),a("8e6e"),a("9523")),o=a.n(s),r=a("c973"),l=a.n(r),c=a("a34a"),u=a.n(c),d=(a("c5f6"),a("bd4c")),p=a("e71c"),f=a("333e"),m=a("b924"),g=a("e802"),b=a("0e14"),h=[{en:"id",es:"ID"},{en:"institution",es:"INSTITUCION"},{en:"title",es:"TITULO OBTENIDO"},{en:"date",es:"FECHA"},{en:"finish",es:"TERMINADO"},{en:"city",es:"CIUDAD"}],v=["institution","title","date","finish"],x=a("b1ba"),y=a("234a"),D=a("2fa3");function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w=d["b"].formatDate,k=Date.now(),O={name:"Educations",data:function(){return{reloadCity:0,alterEducations:!1,educationData:{institution:null,title:null,date:w(k,"DD/MM/YYYY"),finish:"Si",city:null,idEmployee:this.idTarget},selected:[],reRenderTable:0,visibleColumns:v,loadingAlter:!1,gettingInfo:!1,isCreate:null}},mixins:[y["a"]],components:{TableView:f["a"],InteractionOptions:m["a"],SelectionInput:b["a"]},props:{loading:{type:Boolean,default:!1},idTarget:{type:Number,default:0},cities:{type:Array,default:function(){return[]}}},computed:{educations:function(){return this.$store.getters["employeeEducations/list"]},columns:function(){return Object(p["t"])(this.educations,h,v)}},methods:{openCreateNew:function(){this.isCreate=!0,this.reset(),this.alterEducations=!0},openUpdate:function(){var e=this;return l()(u.a.mark((function t(){var a;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isCreate=!1,e.reset(),e.alterEducations=!0,e.gettingInfo=!0,t.next=6,e.$store.dispatch("employeeEducations/getForId",e.selected[0].id);case 6:a=t.sent,e.educationData=a,e.reloadCity+=1,e.gettingInfo=!1;case 10:case"end":return t.stop()}}),t)})))()},alterRow:function(){var e=this;return l()(u.a.mark((function t(){var a,n,i,s,o,r;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loadingAlter=!0,!e.isCreate){t.next=23;break}return t.prev=2,t.next=5,x["a"].getApiFormat(e.educationData);case 5:return a=t.sent,t.next=8,e.$store.dispatch("employeeEducations/store",a);case 8:return n="Registro exitoso",t.next=11,e.$store.dispatch("employeeEducations/getForEmployee",e.idTarget);case 11:e.alterEducations=!1,e.loadingAlter=!1,e.createNotification(q({message:n,timeout:3e3},p["q"])),t.next=21;break;case 16:t.prev=16,t.t0=t["catch"](2),i=Object(D["d"])(t.t0),e.createNotification(q({message:i,timeout:5e3},p["b"])),e.loadingAlter=!1;case 21:t.next=42;break;case 23:return t.prev=23,t.next=26,x["a"].getApiFormat(e.educationData);case 26:return s=t.sent,t.next=29,e.$store.dispatch("employeeEducations/update",s);case 29:return o="Actualizacion exitosa",t.next=32,e.$store.dispatch("employeeEducations/getForEmployee",e.idTarget);case 32:e.alterEducations=!1,e.loadingAlter=!1,e.createNotification(q({message:o,timeout:3e3},p["q"])),t.next=42;break;case 37:t.prev=37,t.t1=t["catch"](23),r=Object(D["d"])(t.t1),e.createNotification(q({message:r,timeout:5e3},p["b"])),e.loadingAlter=!1;case 42:case"end":return t.stop()}}),t,null,[[2,16],[23,37]])})))()},organizerDataDelete:function(e){return e.reduce((function(e,t){return e.push({principal:t.title,caption:t.institution,side:t.date}),e}),[])},openDelete:function(){var e=this;this.$q.dialog({component:g["a"],parent:this,dataShow:this.organizerDataDelete(this.selected),dataDelete:this.selected,deleteFunction:this.deleteRows}).onOk((function(){e.selected=[],e.reRenderTable+=1})).onCancel((function(){})).onDismiss((function(){e.$store.dispatch("employeeEducations/getForEmployee",e.idTarget)}))},deleteRows:function(e){var t=this;return l()(u.a.mark((function a(){return u.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("employeeEducations/remove",e);case 2:case"end":return a.stop()}}),a)})))()},reset:function(){this.educationData={institution:null,title:null,date:w(k,"DD/MM/YYYY"),finish:"Si",city:null,idEmployee:this.idTarget}},maxDateIsToday:function(e){return e<=w(k,"YYYY/MM/DD")}}},I=O,F=(a("59a8"),a("2877")),E=Object(F["a"])(I,n,i,!1,null,null,null);t["a"]=E.exports},"3ff6":function(e,t,a){"use strict";var n=a("5d83"),i=a.n(n);i.a},4722:function(e,t,a){"use strict";var n=a("ead6"),i=a.n(n);i.a},5085:function(e,t,a){},"54d9":function(e,t,a){"use strict";var n=a("5085"),i=a.n(n);i.a},"59a8":function(e,t,a){"use strict";var n=a("a43d"),i=a.n(n);i.a},"5d83":function(e,t,a){},"74ed":function(e,t,a){"use strict";var n=a("e653"),i=a.n(n);i.a},"7a93":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row q-mb-xs"},[!e.loading&&e.trainings&&e.trainings.length?a("InteractionOptions",{attrs:{selected:e.selected,createFunction:e.openCreateNew,editFunction:e.openUpdate,deleteFunction:e.openDelete}}):e._e()],1),e.loading?a("q-spinner-dots",{staticClass:"absolute-center text-default",attrs:{size:"3em"}}):e.trainings&&e.trainings.length?a("TableView",{key:e.reRenderTable,attrs:{information:e.trainings,columns:e.columns,visibleColumns:e.visibleColumns},on:{selection:function(t){e.selected=t}}}):a("div",{staticClass:"text-center"},[a("div",{staticClass:"empty-state small-section empty-trainings"}),a("h3",{staticClass:"empty-copy"},[e._v(" No hay registros aún.. ")]),a("q-btn",{staticClass:"text-capitalize",staticStyle:{height:"min-content"},attrs:{color:"positive",label:"PRIMER REGISTRO"},on:{click:e.openCreateNew}})],1),a("q-dialog",{model:{value:e.alterTrainings,callback:function(t){e.alterTrainings=t},expression:"alterTrainings"}},[a("q-card",{staticStyle:{width:"480px","max-width":"80vw"}},[e.gettingInfo?a("q-spinner-tail",{staticClass:"absolute-center text-default",attrs:{size:"3em"}}):e._e(),a("q-card-section",[a("div",{staticClass:"text-h6 text-bold"},[e._v("Capacitación")])]),a("q-card-section",[a("q-form",{on:{submit:e.alterRow,reset:e.reset}},[a("div",{staticClass:"row"},[a("q-input",{staticClass:"ControlForm col-6 q-mr-md",attrs:{filled:"",disable:e.gettingInfo,label:"Evento","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingrese un evento"}]},model:{value:e.trainingData.event,callback:function(t){e.$set(e.trainingData,"event",t)},expression:"trainingData.event"}}),a("q-input",{staticClass:"ControlForm col",attrs:{filled:"",disable:e.gettingInfo,label:"Fecha",readonly:"","stack-label":"",rules:[function(e){return e&&e.length>0||"Por favor ingresa una fecha"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"DD/MM/YYYY",options:e.maxDateIsToday},on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e.trainingData.date,callback:function(t){e.$set(e.trainingData,"date",t)},expression:"trainingData.date"}})],1)],1)]},proxy:!0}]),model:{value:e.trainingData.date,callback:function(t){e.$set(e.trainingData,"date",t)},expression:"trainingData.date"}})],1),a("q-input",{staticClass:"ControlForm",attrs:{filled:"",disable:e.gettingInfo,label:"Institución","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingrese una institución"},function(e){return e&&e.length<=80||"Longitud maxima de 80 carácteres"}]},model:{value:e.trainingData.institution,callback:function(t){e.$set(e.trainingData,"institution",t)},expression:"trainingData.institution"}}),a("div",{staticClass:"row"},[a("q-input",{staticClass:"ControlForm col q-mr-md",attrs:{filled:"",disable:e.gettingInfo,type:"number",min:0,label:"Horas teoricas","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingrese el numero de horas"},function(e){return e&&e>=0||"Numero invalido"}]},model:{value:e.trainingData.theoreticalHours,callback:function(t){e.$set(e.trainingData,"theoreticalHours",t)},expression:"trainingData.theoreticalHours"}}),a("q-input",{staticClass:"ControlForm col",attrs:{filled:"",disable:e.gettingInfo,type:"number",min:0,label:"Horas practicas","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingrese el numero de horas"},function(e){return e&&e>=0||"Numero invalido"}]},model:{value:e.trainingData.practicalHours,callback:function(t){e.$set(e.trainingData,"practicalHours",t)},expression:"trainingData.practicalHours"}})],1),!e.isCreate&&e.trainingData.pathFile?a("div",{staticClass:"q-mb-md"},[a("div",{staticClass:"row q-mb-xs subtitle"},[e._v("\n              Descargar archivo actual:\n            ")]),a("a",{attrs:{href:e.NATIVE_URL+"/files/capacitaciones/"+e.trainingData.pathFile}},[a("q-btn",{staticClass:"full-width",attrs:{color:"positive","icon-right":"cloud_download",align:"between"}},[a("div",{staticClass:"ellipsis"},[e._v("\n                  "+e._s(e.trainingData.pathFile.substr(12))+"\n                ")])])],1)]):e._e(),e.trainingData.pathFile?e._e():a("div",{staticClass:"row q-mb-xs subtitle"},[e._v("\n            Subir archivo de soporte:\n          ")]),e.trainingData.pathFile?a("div",{staticClass:"row q-mb-xs subtitle"},[e._v("\n            Cambiar archivo de soporte:\n          ")]):e._e(),a("div",{staticClass:"row"},[a("q-uploader",{staticClass:"col",attrs:{"hide-upload-btn":"",accept:".pdf, .dot, .doc, .docx, .odt, .xls, .xlsx, .ods, .ppt, .pptx, image/*"},on:{added:e.handleFileUpload}})],1),a("q-separator",{staticClass:"q-mb-sm"}),a("div",{attrs:{align:"center"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"negative",type:"reset",flat:"",label:"Cancelar",disable:e.loadingAlter}}),a("q-btn",{attrs:{color:"positive",type:"submit",flat:"",label:"Guardar",disable:e.gettingInfo,loading:e.loadingAlter}})],1)],1)],1)],1)],1)],1)},i=[],s=(a("456d"),a("8a81"),a("d25f"),a("9986"),a("8e6e"),a("9523")),o=a.n(s),r=a("c973"),l=a.n(r),c=a("a34a"),u=a.n(c),d=(a("c5f6"),a("bd4c")),p=a("e71c"),f=a("333e"),m=a("b924"),g=a("e802"),b=[{en:"id",es:"ID"},{en:"event",es:"EVENTO"},{en:"institution",es:"INSTITUCION"},{en:"theoreticalHours",es:"HORAS TEORICAS"},{en:"practicalHours",es:"HORAS PRACTICAS"},{en:"pathFile",es:"ARCHIVO SOPORTE"},{en:"date",es:"FECHA"}],h=["event","institution","pathFile","date"],v=a("dcc1"),x=a("234a"),y=a("2fa3");function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q=d["b"].formatDate,w=Date.now(),k={name:"Trainings",data:function(){return{alterTrainings:!1,trainingData:{event:null,institution:null,theoreticalHours:0,practicalHours:0,date:q(w,"DD/MM/YYYY"),idEmployee:this.idTarget,file:null,pathFile:null},selected:[],reRenderTable:0,visibleColumns:h,loadingAlter:!1,gettingInfo:!1,isCreate:null,NATIVE_URL:p["o"]}},mixins:[x["a"]],components:{TableView:f["a"],InteractionOptions:m["a"]},props:{loading:{type:Boolean,default:!1},idTarget:{type:Number,default:0}},computed:{trainings:function(){return this.$store.getters["employeeTrainings/list"]},columns:function(){return Object(p["t"])(this.trainings,b,h)}},methods:{handleFileUpload:function(e){var t=e[0];this.trainingData.file=t},openCreateNew:function(){this.isCreate=!0,this.reset(),this.alterTrainings=!0},openUpdate:function(){var e=this;return l()(u.a.mark((function t(){var a;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isCreate=!1,e.reset(),e.alterTrainings=!0,e.gettingInfo=!0,t.next=6,e.$store.dispatch("employeeTrainings/getForId",e.selected[0].id);case 6:a=t.sent,e.trainingData=a,e.gettingInfo=!1;case 9:case"end":return t.stop()}}),t)})))()},alterRow:function(){var e=this;return l()(u.a.mark((function t(){var a,n,i,s,o,r;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loadingAlter=!0,!e.isCreate){t.next=23;break}return t.prev=2,t.next=5,v["a"].getApiFormat(e.trainingData);case 5:return a=t.sent,t.next=8,e.$store.dispatch("employeeTrainings/store",a);case 8:return n="Registro exitoso",t.next=11,e.$store.dispatch("employeeTrainings/getForEmployee",e.idTarget);case 11:e.alterTrainings=!1,e.loadingAlter=!1,e.createNotification(C({message:n,timeout:3e3},p["q"])),t.next=21;break;case 16:t.prev=16,t.t0=t["catch"](2),i=Object(y["d"])(t.t0),e.createNotification(C({message:i,timeout:5e3},p["b"])),e.loadingAlter=!1;case 21:t.next=42;break;case 23:return t.prev=23,t.next=26,v["a"].getApiFormat(e.trainingData);case 26:return s=t.sent,t.next=29,e.$store.dispatch("employeeTrainings/update",s);case 29:return o="Actualizacion exitosa",t.next=32,e.$store.dispatch("employeeTrainings/getForEmployee",e.idTarget);case 32:e.alterTrainings=!1,e.loadingAlter=!1,e.createNotification(C({message:o,timeout:3e3},p["q"])),t.next=42;break;case 37:t.prev=37,t.t1=t["catch"](23),r=Object(y["d"])(t.t1),e.createNotification(C({message:r,timeout:5e3},p["b"])),e.loadingAlter=!1;case 42:case"end":return t.stop()}}),t,null,[[2,16],[23,37]])})))()},organizerDataDelete:function(e){return e.reduce((function(e,t){return e.push({principal:t.event,caption:t.institution,side:t.date}),e}),[])},openDelete:function(){var e=this;this.$q.dialog({component:g["a"],parent:this,dataShow:this.organizerDataDelete(this.selected),dataDelete:this.selected,deleteFunction:this.deleteRows}).onOk((function(){e.selected=[],e.reRenderTable+=1})).onCancel((function(){})).onDismiss((function(){e.$store.dispatch("employeeTrainings/getForEmployee",e.idTarget)}))},deleteRows:function(e){var t=this;return l()(u.a.mark((function a(){return u.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("employeeTrainings/remove",e);case 2:case"end":return a.stop()}}),a)})))()},reset:function(){this.trainingData={event:null,institution:null,theoreticalHours:0,practicalHours:0,date:q(w,"DD/MM/YYYY"),idEmployee:this.idTarget,file:null,pathFile:null}},maxDateIsToday:function(e){return e<=q(w,"YYYY/MM/DD")}}},O=k,I=(a("3ff6"),a("2877")),F=Object(I["a"])(O,n,i,!1,null,null,null);t["a"]=F.exports},"874c":function(e,t,a){e.exports=a.p+"img/default-profile.402e33f3.png"},8942:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row q-mb-xs"},[!e.loading&&e.experiences&&e.experiences.length?a("InteractionOptions",{attrs:{selected:e.selected,createFunction:e.openCreateNew,editFunction:e.openUpdate,deleteFunction:e.openDelete}}):e._e()],1),e.loading?a("q-spinner-dots",{staticClass:"absolute-center text-default",attrs:{size:"3em"}}):e.experiences&&e.experiences.length?a("TableView",{key:e.reRenderTable,attrs:{information:e.experiences,columns:e.columns,visibleColumns:e.visibleColumns},on:{selection:function(t){e.selected=t}}}):a("div",{staticClass:"text-center"},[a("div",{staticClass:"empty-state small-section empty-experiences"}),a("h3",{staticClass:"empty-copy"},[e._v(" No hay registros aún.. ")]),a("q-btn",{staticClass:"text-capitalize",staticStyle:{height:"min-content"},attrs:{color:"positive",label:"PRIMER REGISTRO"},on:{click:e.openCreateNew}})],1),a("q-dialog",{model:{value:e.alterExperiences,callback:function(t){e.alterExperiences=t},expression:"alterExperiences"}},[a("q-card",{staticStyle:{width:"500px","max-width":"80vw"}},[e.gettingInfo?a("q-spinner-tail",{staticClass:"absolute-center text-default",attrs:{size:"3em"}}):e._e(),a("q-card-section",[a("div",{staticClass:"text-h6 text-bold"},[e._v("Experiencia")])]),a("q-card-section",[a("q-form",{on:{submit:e.alterRow,reset:e.reset}},[a("q-toggle",{staticClass:"q-mb-sm",attrs:{color:"primary",label:"Actualmente activo"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}}),a("div",{staticClass:"row"},[a("q-input",{staticClass:"ControlForm col-7 q-mr-md",attrs:{filled:"",disable:e.gettingInfo,label:"Empresa","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingresa una empresa"},function(e){return e&&e.length<=80||"Longitud maxima de 80 carácteres"}]},model:{value:e.experienceData.company,callback:function(t){e.$set(e.experienceData,"company",t)},expression:"experienceData.company"}}),a("q-input",{staticClass:"ControlForm col",attrs:{filled:"",disable:e.gettingInfo,label:"Fecha de Ingreso",readonly:"","stack-label":"",rules:[function(e){return e&&e.length>0||"Por favor ingresa una fecha"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"DD/MM/YYYY",options:e.maxDateIsToday},on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e.experienceData.dateIn,callback:function(t){e.$set(e.experienceData,"dateIn",t)},expression:"experienceData.dateIn"}})],1)],1)]},proxy:!0}]),model:{value:e.experienceData.dateIn,callback:function(t){e.$set(e.experienceData,"dateIn",t)},expression:"experienceData.dateIn"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"ControlForm col-6 q-mr-md",attrs:{filled:"",disable:e.gettingInfo,label:"Cargo","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingrese un cargo"},function(e){return e&&e.length<=40||"Longitud maxima de 40 carácteres"}]},model:{value:e.experienceData.position,callback:function(t){e.$set(e.experienceData,"position",t)},expression:"experienceData.position"}}),a("q-input",{staticClass:"ControlForm col",attrs:{filled:"",disable:e.gettingInfo,label:"Jefe","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingrese un nombre"},function(e){return e&&e.length<=80||"Longitud maxima de 80 carácteres"}]},model:{value:e.experienceData.boss,callback:function(t){e.$set(e.experienceData,"boss",t)},expression:"experienceData.boss"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"ControlForm col-7 q-mr-md",attrs:{filled:"",disable:e.gettingInfo,label:"Dirección","stack-label":"","lazy-rules":"",rules:[function(e){return!e||(e.length<=50||"Longitud maxima de 50 carácteres")}]},model:{value:e.experienceData.address,callback:function(t){e.$set(e.experienceData,"address",t)},expression:"experienceData.address"}}),a("q-input",{staticClass:"ControlForm col",attrs:{filled:"",disable:e.gettingInfo,label:"Telefono",min:0,type:"number","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingrese un telefono"},function(e){return e&&e>0&&e.length<11||"Numero telefonico incorrecto"}]},model:{value:e.experienceData.phone,callback:function(t){e.$set(e.experienceData,"phone",t)},expression:"experienceData.phone"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"ControlForm col-7 q-mr-md",attrs:{filled:"",disable:e.gettingInfo,label:"Labores","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingrese a que se dedicó"},function(e){return e&&e.length<=100||"Longitud maxima de 100 carácteres"}]},model:{value:e.experienceData.labors,callback:function(t){e.$set(e.experienceData,"labors",t)},expression:"experienceData.labors"}}),a("q-input",{staticClass:"ControlForm col",attrs:{filled:"",disable:e.gettingInfo,label:"Verificación","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingrese una verificación"}]},model:{value:e.experienceData.check,callback:function(t){e.$set(e.experienceData,"check",t)},expression:"experienceData.check"}})],1),e.active?e._e():a("span",{staticClass:"q-ml-xs subtitle"},[e._v("Datos de retiro:")]),e.active?e._e():a("div",{staticClass:"row q-mt-xs"},[a("q-input",{staticClass:"ControlForm col q-mr-md",attrs:{filled:"",disable:e.gettingInfo,label:"Fecha de retiro",readonly:"","stack-label":"",rules:[function(t){return!e.active&&t&&t.length>0||"Por favor ingresa una fecha"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"DD/MM/YYYY",options:e.maxDateIsToday},on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e.experienceData.dateOut,callback:function(t){e.$set(e.experienceData,"dateOut",t)},expression:"experienceData.dateOut"}})],1)],1)]},proxy:!0}],null,!1,878479090),model:{value:e.experienceData.dateOut,callback:function(t){e.$set(e.experienceData,"dateOut",t)},expression:"experienceData.dateOut"}}),a("q-input",{staticClass:"ControlForm col-7",attrs:{filled:"",disable:e.gettingInfo,label:"Razón de retiro","stack-label":"",rules:[function(t){return!e.active&&t&&t.length>0||"Por favor ingresa una razón"}]},model:{value:e.experienceData.reason,callback:function(t){e.$set(e.experienceData,"reason",t)},expression:"experienceData.reason"}})],1),a("q-separator",{staticClass:"q-mb-sm"}),a("div",{attrs:{align:"center"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"negative",type:"reset",flat:"",label:"Cancelar",disable:e.loadingAlter}}),a("q-btn",{attrs:{color:"positive",type:"submit",flat:"",label:"Guardar",disable:e.gettingInfo,loading:e.loadingAlter}})],1)],1)],1)],1)],1)],1)},i=[],s=(a("456d"),a("8a81"),a("d25f"),a("9986"),a("8e6e"),a("9523")),o=a.n(s),r=a("c973"),l=a.n(r),c=a("a34a"),u=a.n(c),d=(a("c5f6"),a("bd4c")),p=a("e71c"),f=a("333e"),m=a("b924"),g=a("e802"),b=[{en:"id",es:"ID"},{en:"company",es:"EMPRESA"},{en:"position",es:"CARGO"},{en:"address",es:"DIRECCION"},{en:"phone",es:"TELEFONO"},{en:"boss",es:"JEFE"},{en:"labors",es:"LABORES"},{en:"dateIn",es:"FECHA INGRESO"},{en:"dateOut",es:"FECHA RETIRO"},{en:"reason",es:"RAZON"},{en:"check",es:"VERIFICACION"}],h=["company","position","dateIn"],v=a("90c3"),x=a("234a"),y=a("2fa3");function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q=d["b"].formatDate,w=Date.now(),k={name:"Experiences",data:function(){return{alterExperiences:!1,active:!1,experienceData:{company:null,position:null,address:null,phone:null,boss:null,labors:null,dateIn:q(w,"DD/MM/YYYY"),dateOut:q(w,"DD/MM/YYYY"),reason:null,check:null,idEmployee:this.idTarget},selected:[],reRenderTable:0,visibleColumns:h,loadingAlter:!1,gettingInfo:!1,isCreate:null}},mixins:[x["a"]],components:{TableView:f["a"],InteractionOptions:m["a"]},props:{loading:{type:Boolean,default:!1},idTarget:{type:Number,default:0}},computed:{experiences:function(){return this.$store.getters["employeeExperiences/list"]},columns:function(){return Object(p["t"])(this.experiences,b,h)}},methods:{openCreateNew:function(){this.isCreate=!0,this.reset(),this.alterExperiences=!0},openUpdate:function(){var e=this;return l()(u.a.mark((function t(){var a;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isCreate=!1,e.reset(),e.alterExperiences=!0,e.gettingInfo=!0,t.next=6,e.$store.dispatch("employeeExperiences/getForId",e.selected[0].id);case 6:a=t.sent,e.active=!a.dateOut&&!a.reason,e.experienceData=a,e.experienceData.dateOut=e.active?q(w,"DD/MM/YYYY"):a.dateOut,e.experienceData.reason=e.active?null:a.reason,e.gettingInfo=!1;case 12:case"end":return t.stop()}}),t)})))()},alterRow:function(){var e=this;return l()(u.a.mark((function t(){var a,n,i,s,o,r;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loadingAlter=!0,e.experienceData.dateOut=e.active?null:e.experienceData.dateOut,e.experienceData.reason=e.active?null:e.experienceData.reason,!e.isCreate){t.next=25;break}return t.prev=4,t.next=7,v["a"].getApiFormat(e.experienceData);case 7:return a=t.sent,t.next=10,e.$store.dispatch("employeeExperiences/store",a);case 10:return n="Registro exitoso",t.next=13,e.$store.dispatch("employeeExperiences/getForEmployee",e.idTarget);case 13:e.alterExperiences=!1,e.loadingAlter=!1,e.createNotification(C({message:n,timeout:3e3},p["q"])),t.next=23;break;case 18:t.prev=18,t.t0=t["catch"](4),i=Object(y["d"])(t.t0),e.createNotification(C({message:i,timeout:5e3},p["b"])),e.loadingAlter=!1;case 23:t.next=44;break;case 25:return t.prev=25,t.next=28,v["a"].getApiFormat(e.experienceData);case 28:return s=t.sent,t.next=31,e.$store.dispatch("employeeExperiences/update",s);case 31:return o="Actualizacion exitosa",t.next=34,e.$store.dispatch("employeeExperiences/getForEmployee",e.idTarget);case 34:e.alterExperiences=!1,e.loadingAlter=!1,e.createNotification(C({message:o,timeout:3e3},p["q"])),t.next=44;break;case 39:t.prev=39,t.t1=t["catch"](25),r=Object(y["d"])(t.t1),e.createNotification(C({message:r,timeout:5e3},p["b"])),e.loadingAlter=!1;case 44:case"end":return t.stop()}}),t,null,[[4,18],[25,39]])})))()},organizerDataDelete:function(e){return e.reduce((function(e,t){return e.push({principal:t.company,caption:t.position,side:t.dateIn}),e}),[])},openDelete:function(){var e=this;this.$q.dialog({component:g["a"],parent:this,dataShow:this.organizerDataDelete(this.selected),dataDelete:this.selected,deleteFunction:this.deleteRows}).onOk((function(){e.selected=[],e.reRenderTable+=1})).onCancel((function(){})).onDismiss((function(){e.$store.dispatch("employeeExperiences/getForEmployee",e.idTarget)}))},deleteRows:function(e){var t=this;return l()(u.a.mark((function a(){return u.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("employeeExperiences/remove",e);case 2:case"end":return a.stop()}}),a)})))()},reset:function(){this.active=!1,this.experienceData={company:null,position:null,address:null,phone:null,boss:null,labors:null,dateIn:q(w,"DD/MM/YYYY"),dateOut:q(w,"DD/MM/YYYY"),reason:null,check:null,idEmployee:this.idTarget}},maxDateIsToday:function(e){return e<=q(w,"YYYY/MM/DD")}}},O=k,I=(a("91b1"),a("2877")),F=Object(I["a"])(O,n,i,!1,null,null,null);t["a"]=F.exports},"91b1":function(e,t,a){"use strict";var n=a("b364"),i=a.n(n);i.a},a43d:function(e,t,a){},b364:function(e,t,a){},b924:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col row"},[a("q-btn",{staticClass:"text-capitalize q-ml-md",staticStyle:{height:"min-content"},attrs:{color:"positive","icon-right":"add",label:"AÑADIR"},on:{click:e.createFunction}}),e.selected.length?a("div",{staticClass:"q-ml-auto"},[1===e.selected.length?a("q-btn",{staticStyle:{height:"min-content"},attrs:{color:"info","icon-right":"edit"},on:{click:e.editFunction}}):e._e(),e.selected.length>=1?a("q-btn",{staticClass:"q-ml-sm",staticStyle:{height:"min-content"},attrs:{color:"red","icon-right":"delete"},on:{click:e.deleteFunction}}):e._e()],1):e._e()],1)},i=[],s={name:"InteractionOptions",props:{selected:{type:Array,default:function(){return[]}},createFunction:{type:Function,default:function(){}},editFunction:{type:Function,default:function(){}},deleteFunction:{type:Function,default:function(){}}}},o=s,r=a("2877"),l=Object(r["a"])(o,n,i,!1,null,null,null);t["a"]=l.exports},b928:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row q-mb-xs"},[!e.loading&&e.courses&&e.courses.length?a("InteractionOptions",{attrs:{selected:e.selected,createFunction:e.openCreateNew,editFunction:e.openUpdate,deleteFunction:e.openDelete}}):e._e()],1),e.loading?a("q-spinner-dots",{staticClass:"absolute-center text-default",attrs:{size:"3em"}}):e.courses&&e.courses.length?a("TableView",{key:e.reRenderTable,attrs:{information:e.courses,columns:e.columns,visibleColumns:e.visibleColumns},on:{selection:function(t){e.selected=t}}}):a("div",{staticClass:"text-center"},[a("div",{staticClass:"empty-state small-section empty-courses"}),a("h3",{staticClass:"empty-copy"},[e._v(" No hay registros aún.. ")]),a("q-btn",{staticClass:"text-capitalize",staticStyle:{height:"min-content"},attrs:{color:"positive",label:"PRIMER REGISTRO"},on:{click:e.openCreateNew}})],1),a("q-dialog",{model:{value:e.alterCourses,callback:function(t){e.alterCourses=t},expression:"alterCourses"}},[a("q-card",{staticStyle:{width:"500px","max-width":"80vw"}},[e.gettingInfo?a("q-spinner-tail",{staticClass:"absolute-center text-default",attrs:{size:"3em"}}):e._e(),a("q-card-section",[a("div",{staticClass:"text-h6 text-bold"},[e._v("Curso Bomberil")])]),a("q-card-section",[a("q-form",{on:{submit:e.alterRow,reset:e.reset}},[a("q-input",{staticClass:"ControlForm q-mb-xs",attrs:{filled:"",disable:e.gettingInfo,label:"Curso","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingrese un nombre"},function(e){return e&&e.length<=80||"Longitud maxima de 80 carácteres"}]},model:{value:e.courseData.course,callback:function(t){e.$set(e.courseData,"course",t)},expression:"courseData.course"}}),a("q-input",{staticClass:"ControlForm",attrs:{filled:"",disable:e.gettingInfo,label:"Fecha",readonly:"","stack-label":"",rules:[function(e){return e&&e.length>0||"Por favor ingresa una fecha"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"DD/MM/YYYY",options:e.maxDateIsToday},on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e.courseData.date,callback:function(t){e.$set(e.courseData,"date",t)},expression:"courseData.date"}})],1)],1)]},proxy:!0}]),model:{value:e.courseData.date,callback:function(t){e.$set(e.courseData,"date",t)},expression:"courseData.date"}}),a("q-input",{staticClass:"ControlForm",attrs:{filled:"",disable:e.gettingInfo,label:"Insitución","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor ingrese una institución"},function(e){return e&&e.length<=80||"Longitud maxima de 80 carácteres"}]},model:{value:e.courseData.institution,callback:function(t){e.$set(e.courseData,"institution",t)},expression:"courseData.institution"}}),a("span",{staticClass:"q-ml-xs subtitle"},[e._v("Duracion:")]),a("div",{staticClass:"row q-mt-xs"},[a("q-input",{staticClass:"ControlForm col-3 q-mr-sm",attrs:{filled:"",disable:e.gettingInfo,label:"Cantidad",min:1,max:12,type:"number","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e>0||"Por favor ingrese una cantidad"},function(e){return e&&e>0||"Numero invalido"}]},model:{value:e.quantityDuration,callback:function(t){e.quantityDuration=t},expression:"quantityDuration"}}),a("q-select",{staticClass:"ControlForm col",attrs:{filled:"",disable:e.gettingInfo,options:["Dia(s)","Semana(s)","Mes(es)","Año(s)"],label:"Tiempo","stack-label":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Por favor selecciona un tiempo"}]},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),a("q-separator",{staticClass:"q-mb-sm"}),a("div",{attrs:{align:"center"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"negative",type:"reset",flat:"",label:"Cancelar",disable:e.loadingAlter}}),a("q-btn",{attrs:{color:"positive",type:"submit",flat:"",label:"Guardar",disable:e.gettingInfo,loading:e.loadingAlter}})],1)],1)],1)],1)],1)],1)},i=[],s=a("9523"),o=a.n(s),r=a("c973"),l=a.n(r),c=a("a34a"),u=a.n(c),d=(a("c5f6"),a("28a5"),a("456d"),a("8a81"),a("d25f"),a("9986"),a("8e6e"),a("bd4c")),p=a("e71c"),f=a("333e"),m=a("b924"),g=a("e802"),b=[{en:"id",es:"ID"},{en:"course",es:"CURSO"},{en:"date",es:"FECHA"},{en:"duration",es:"DURACION"},{en:"institution",es:"INSTITUCION"}],h=["course","date","duration","institution"],v=a("7201"),x=a("234a"),y=a("2fa3");function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q=d["b"].formatDate,w=Date.now(),k={name:"Courses",data:function(){return{alterCourses:!1,quantityDuration:1,time:"Mes(es)",courseData:{course:null,date:q(w,"DD/MM/YYYY"),duration:null,institution:null,idEmployee:this.idTarget},selected:[],reRenderTable:0,visibleColumns:h,loadingAlter:!1,gettingInfo:!1,isCreate:null}},mixins:[x["a"]],components:{TableView:f["a"],InteractionOptions:m["a"]},props:{loading:{type:Boolean,default:!1},idTarget:{type:Number,default:0}},computed:{courses:function(){return this.$store.getters["employeeCourses/list"]},columns:function(){return Object(p["t"])(this.courses,b,h)}},methods:{openCreateNew:function(){this.isCreate=!0,this.reset(),this.alterCourses=!0},openUpdate:function(){var e=this;return l()(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isCreate=!1,e.reset(),e.alterCourses=!0,e.gettingInfo=!0,t.next=6,e.$store.dispatch("employeeCourses/getForId",e.selected[0].id);case 6:a=t.sent,e.courseData=a,n=a.duration.split(" "),e.quantityDuration=n?n[0]:1,e.time=n?n[1]:"Mes(es)",e.gettingInfo=!1;case 12:case"end":return t.stop()}}),t)})))()},alterRow:function(){var e=this;return l()(u.a.mark((function t(){var a,n,i,s,o,r;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loadingAlter=!0,e.courseData.duration="".concat(e.quantityDuration," ").concat(e.time),!e.isCreate){t.next=24;break}return t.prev=3,t.next=6,v["a"].getApiFormat(e.courseData);case 6:return a=t.sent,t.next=9,e.$store.dispatch("employeeCourses/store",a);case 9:return n="Registro exitoso",t.next=12,e.$store.dispatch("employeeCourses/getForEmployee",e.idTarget);case 12:e.alterCourses=!1,e.loadingAlter=!1,e.createNotification(C({message:n,timeout:3e3},p["q"])),t.next=22;break;case 17:t.prev=17,t.t0=t["catch"](3),i=Object(y["d"])(t.t0),e.createNotification(C({message:i,timeout:5e3},p["b"])),e.loadingAlter=!1;case 22:t.next=43;break;case 24:return t.prev=24,t.next=27,v["a"].getApiFormat(e.courseData);case 27:return s=t.sent,t.next=30,e.$store.dispatch("employeeCourses/update",s);case 30:return o="Actualizacion exitosa",t.next=33,e.$store.dispatch("employeeCourses/getForEmployee",e.idTarget);case 33:e.alterCourses=!1,e.loadingAlter=!1,e.createNotification(C({message:o,timeout:3e3},p["q"])),t.next=43;break;case 38:t.prev=38,t.t1=t["catch"](24),r=Object(y["d"])(t.t1),e.createNotification(C({message:r,timeout:5e3},p["b"])),e.loadingAlter=!1;case 43:case"end":return t.stop()}}),t,null,[[3,17],[24,38]])})))()},organizerDataDelete:function(e){return e.reduce((function(e,t){return e.push({principal:t.course,caption:t.institution,side:t.duration}),e}),[])},openDelete:function(){var e=this;this.$q.dialog({component:g["a"],parent:this,dataShow:this.organizerDataDelete(this.selected),dataDelete:this.selected,deleteFunction:this.deleteRows}).onOk((function(){e.selected=[],e.reRenderTable+=1})).onCancel((function(){})).onDismiss((function(){e.$store.dispatch("employeeCourses/getForEmployee",e.idTarget)}))},deleteRows:function(e){var t=this;return l()(u.a.mark((function a(){return u.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("employeeCourses/remove",e);case 2:case"end":return a.stop()}}),a)})))()},reset:function(){this.quantityDuration=1,this.time="Mes(es)",this.courseData={course:null,date:q(w,"DD/MM/YYYY"),duration:null,institution:null,idEmployee:this.idTarget}},maxDateIsToday:function(e){return e<=q(w,"YYYY/MM/DD")}}},O=k,I=(a("4722"),a("2877")),F=Object(I["a"])(O,n,i,!1,null,null,null);t["a"]=F.exports},e653:function(e,t,a){},e802:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:"dialog",on:{hide:e.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin"},[a("q-card-section",[a("div",{staticClass:"text-h6 text-bold"},[e._v("Confirmar eliminación")]),a("div",{staticClass:"text-subtitle2 text-grey"},[e._v("\n        Despues de efectuada esta acción no se podra recuperar la información.\n      ")])]),a("q-card-section",[a("div",{staticClass:"text-subtitle2"},[e._v("Datos afectados:")]),a("div",{staticClass:"q-py-sm"},[a("q-list",{attrs:{separator:""}},e._l(e.dataShow,(function(t,n){return a("q-item",{key:n},[a("q-item-section",[a("q-item-label",[e._v(e._s(t.principal))]),a("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.caption))])],1),a("q-item-section",{attrs:{side:""}},[e._v(e._s(t.side))])],1)})),1)],1)]),a("q-separator"),a("q-card-actions",{attrs:{align:"center"}},[a("q-btn",{attrs:{color:"primary",flat:"",label:"Cancelar",disable:e.loading},on:{click:e.onCancelClick}}),a("q-btn",{attrs:{color:"negative",flat:"",label:"Eliminar",loading:e.loading},on:{click:e.onOKClick}})],1)],1)],1)},i=[],s=a("c973"),o=a.n(s),r=a("a34a"),l=a.n(r),c={name:"DeleteTemplate",data:function(){return{loading:!1,dialog:!1}},props:{dataShow:{type:Array,default:function(){return[]}},dataDelete:{type:Array,default:function(){return[]}},deleteFunction:{type:Function,default:function(){}}},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.deleteFunction(e.dataDelete);case 3:e.loading=!1,e.$emit("ok"),e.hide();case 6:case"end":return t.stop()}}),t)})))()},onCancelClick:function(){this.hide()}}},u=c,d=a("2877"),p=Object(d["a"])(u,n,i,!1,null,null,null);t["a"]=p.exports},ead6:function(e,t,a){},eb3f:function(e,t,a){"use strict";var n=a("1529"),i=a.n(n);i.a}}]);